{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/aurumjs/prebuilt/aurumjs.js","webpack:///./scss/main.scss?4e53","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./scss/main.scss","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./src/countdown_status.ts","webpack:///./src/progress_circle/progress_circle.tsx","webpack:///./src/main.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_defineProperties","target","props","length","descriptor","configurable","writable","_createClass","Constructor","protoProps","staticProps","_inheritsLoose","subClass","superClass","constructor","__proto__","_getPrototypeOf","setPrototypeOf","getPrototypeOf","_setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","_construct","Parent","args","Class","a","push","apply","instance","Function","arguments","_wrapNativeSuper","_cache","Map","undefined","fn","indexOf","TypeError","has","set","Wrapper","this","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelperLoose","iterator","isArray","minLen","slice","from","test","_unsupportedIterableToArray","done","next","OperationType","CancellationToken","cancellables","cancelables","_isCancelled","_proto","hasCancellables","addCancelable","delegate","throwIfCancelled","console","log","removeCancelable","index","splice","setTimeout","_setTimeout","_x","cb","time","_this","id","cancelable","clearTimeout","setInterval","_setInterval","_x2","_x3","clearInterval","requestAnimationFrame","_requestAnimationFrame","_x4","_this2","cancelAnimationFrame","animationLoop","f","msg","isCanceled","Error","chain","twoWays","cancel","registerDomEvent","eventEmitter","event","callback","addEventListener","removeEventListener","forEach","EventEmitter","subscribeChannel","subscribeOnceChannel","onAfterFire","subscribe","cancellationToken","createSubscription","facade","subscribeOnce","hasSubscriptions","subscriptions","cancelAll","_a","isFiring","onEmpty","afterFire","fire","data","error","_i","channel","that","subscription","_settle","pact","state","_Pact","v","then","observer","onFulfilled","onRejected","result","_iteratorSymbol","_isSettledPact","thenable","_forOf","body","check","step","reject","_cycle2","_fixup","values","array","_cycle","_forTo","DataFlow","DataSource","initialValue","primed","updateEvent","fromMultipleSources","sources","cancellation","_step","_iterator","listen","update","map","join","repeatLast","newValue","updating","withInitial","listenAndRepeat","listenOnce","transform","operationA","operationB","operationC","operationD","operationE","operationF","operationG","operationH","operationI","operationJ","operationK","token","operations","filter","processTransform","pipe","targetDataSource","mappedSource","TransientDataSource","tap","unique","uniqueSource","diff","diffingSource","old","reduce","reducer","reduceSource","aggregate","otherSource","combinator","aggregatedSource","aggregateThree","second","third","aggregateFour","fourth","_this3","aggregateFive","fifth","_this4","combine","otherSources","combinedDataSource","_step2","_iterator2","delay","delayedDataSource","skip","amount","cutoff","awaitNextUpdate","_this5","Promise","resolve","debounce","timeout","debouncedDataSource","buffer","bufferedDataSource","accumulate","queueDataSource","ArrayDataSource","pick","subDataSource","_DataSource","disposeToken","_this6","self","ReferenceError","_assertThisInitialized","_proto2","persist","initialData","lengthSource","boundaries","appendArray","change","operationDetailed","insertAt","concat","items","count","removeRange","_i2","swap","index2","_proto3","operation","newState","repeatCurrentState","_this7","getData","item","indexA","indexB","itemA","itemB","swapItems","_this$data","unshift","_this$data2","pop","merge","newData","previousState","removeRight","removeLeft","removeAt","removed","start","end","remove","clear","shift","toArray","reverse","ReversedArrayView","sort","comparator","dependencies","view","SortedArrayView","dep","refresh","mapper","MappedArrayView","FilteredArrayView","callbackfn","_ArrayDataSource","parent","_this8","initial","_this9","_this10","source","b","_ArrayDataSource2","_this11","_this12","_step3","_iterator3","_ArrayDataSource3","_this13","_this14","_step4","_iterator4","appendSorted","_proto6","_ArrayDataSource4","_this15","viewFilter","_this16","_this17","filteredItems","_step5","_iterator5","_proto7","updateFilter","_exit3","_temp5","_result3","_temp6","discriminant","cases","awaitBody","dispatchIndex","outer","testValue","fallthroughCheck","_resumeAfterBody","_resumeAfterTest","_switch","operationType","NOOP","MAP","MAP_DELAY_FILTER","DELAY_FILTER","tmp","_temp2","_result2","_temp","cancelled","_tmp$item","DELAY","MAP_DELAY","_operation$operation","FILTER","DuplexDataSource","propagateWritesToReadStream","updateDownstreamEvent","updateUpstreamEvent","fromTwoDataSource","downStream","upstream","updateDownstream","createOneWay","direction","DOWNSTREAM","oneWayFlow","updatingDownstream","updateUpstream","updatingUpstream","listenUpstream","listenUpstreamOnce","listenDownstream","downStreamToDataSource","downStreamDatasource","newVal","downStreamFilter","upstreamFilter","filteredSource","_filteredSource","reverseMapper","_mappedSource","debounceUpstream","debounceDownstream","upstreamValue","downStreamValue","oneWaySource","createRenderSession","session","attachCalls","sessionToken","tokens","aurumElementModelIdentitiy","nodeData","WeakMap","AurumElement","dataSource","api","children","onAttach","hostNode","render","dispose","clearContent","attachToDom","node","contentStartMarker","document","createComment","contentEndMarker","childNodes","appendChild","insertBefore","getWorkIndex","lastStartIndex","getLastIndex","lastEndIndex","workIndex","removeChild","updateDom","offset","child","HTMLElement","Text","element","prerendering","pendingSessions","_session$attachCalls","subSession","ds","val","SingularAurumElement","createAPI","ArrayAurumElement","type","createTextNode","model","factory","renderSession","onDetach","onError","prerender","fragments","input","ins","recompute","_AurumElement","renderSessions","handleNewContent","spliceChildren","newItems","renderItem","_index","_rendered","rendered","_step6","_iterator6","_item","_rendered2","_step7","_iterator7","_item2","_rendered3","_step8","_iterator8","_item3","_rendered4","_step9","_iterator9","_AurumElement2","lastValue","optimized","nodeValue","fullRebuild","endSession","_step10","_iterator10","_step11","_iterator11","defaultEvents","drag","dragstart","dragend","dragexit","dragover","dragenter","dragleave","blur","focus","click","dblclick","keydown","keyhit","keyup","mousedown","mouseup","mousemove","mouseenter","mouseleave","mousewheel","load","defaultAttributes","DomNodeCreator","nodeName","extraAttributes","extraEvents","extraLogic","createElement","cleanUp","createEventHandlers","dataProps","keys","includes","bindProps","className","handleClass","processHTMLNode","renderedChildren","connectChildren","isConnected","parentElement","events","_loop","dynamicProps","_key","assignStringSourceToAttribute","setAttribute","removeAttribute","Input","checked","Select","select","selectedIndex","Code","Div","A","Abbr","H1","H2","H3","H4","H5","H6","Area","Article","Aside","Span","NoScript","Video","Ul","Ol","Li","Tr","B","Title","Summary","THead","Template","Q","Pre","P","Hr","Audio","Br","Button","Canvas","Data","Details","Em","Footer","Form","Head","Header","Heading","I","IFrame","Img","Label","Link","Nav","Sub","Sup","Table","TBody","TFoot","Td","Th","Time","Style","Source","Script","Svg","Progress","Option","Slot","nodeMap","button","code","hr","div","li","span","style","ul","img","link","canvas","article","br","form","label","ol","pre","progress","table","td","tr","th","textarea","textArea","h1","h2","h3","h4","h5","h6","head","header","footer","nav","script","abbr","area","aside","audio","em","heading","iframe","noscript","option","q","title","video","tbody","tfoot","thead","summary","details","sub","sup","svg","template","slot","Aurum","attach","aurumRenderable","dom","content","root","_ref","getUrlPath","hash","location","substring","Route","DefaultRoute","Stream","inputSource","outputSource","output","fromFetchRaw","url","fetch","fromFetchPostJson","baseRequestData","_update2","assign","method","headers","JSON","stringify","json","_fetch$then","fromFetchGetJson","_update4","_fetch$then2","getOutput","dsUnique","last","SwitchCase","DefaultSwitchCase","ObjectDataSource","updateEventOnKey","listenOnKey","listenOnKeyAndRepeat","oldValue","deleted","_Object$keys","toObject","toDataSource","stream","MapDataSource","toMap","entries","SetDataSource","exists","add","toSet","Set","AurumRouter","some","urlDataSource","window","routes","_b","find","href","segments","split","path","_ret","selectRoute","Suspense","fallback","all","res","Switch","_c","when","selectCase","Webcomponent","config","logic","customElements","define","_HTMLElement","_class","observedAttributes","attr","attributeChangedCallback","connectedCallback","createDocumentFragment","attachShadow","shadowRootMode","delegatesFocus","shadowRootDelegatesFocus","disconnectedCallback","aurumClassName","debugMode","dsAwait","dsAwaitLatest","freshnessToken","timestamp","now","resolved","dsAwaitOrdered","processItem","queue","onDequeue","unsub","dsBuffer","promise","dsCutOff","dsCutOffDynamic","amountLeft","dsDebounce","dsDelay","dsDiff","dsEven","dsFilter","predicate","dsFilterAsync","dsLoadBalance","targets","dsLock","dsMap","dsMapAsync","dsMax","Number","MIN_SAFE_INTEGER","dsMin","MAX_SAFE_INTEGER","dsOdd","dsPick","dsPipe","dsReduce","dsSemaphore","dsSkip","dsSkipDynamic","dsStringJoin","seperator","dsTap","dsThrottle","cooldown","default","options","locals","memo","isOldIE","Boolean","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","list","idCountMap","identifiers","base","obj","css","media","sourceMap","references","updater","addStyle","insertStyleElement","attributes","nonce","insert","textStore","replaceText","replacement","applyToSingletonTag","styleSheet","cssText","cssNode","applyToTag","btoa","unescape","encodeURIComponent","firstChild","singleton","singletonCounter","styleIndex","parentNode","removeStyleElement","newObj","lastIdentifiers","newList","newLastIdentifiers","___CSS_LOADER_API_IMPORT___","useSourceMap","cssMapping","sourceMapping","base64","sourceURLs","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","CountdownStatus","ProgressCircle","width","height","canvasElement","canvasElem","status","STOPPED","context","getContext","lineCap","x","y","radStart","computeRadAngle","radEnd","radius","startTime","degreesPerSecond","drawCircle","endAngle","color","beginPath","arc","strokeStyle","lineWidth","stroke","clearRect","totalTime","elapsedSeconds","remainingSeconds","Math","max","progressDegrees","min","minutes","seconds","fillStyle","textAlign","textBaseline","font","fillText","drawProgressLabel","floor","padStart","initCanvas","degrees","PI","originalMinutes","originalSeconds","countDownStatus","computeOriginalSeconds","normalizeMinutesOrSeconds","normalizedValue","RegExp","class","onInput","handleMinutesChange","handleSecondsChange","RUNNING","onClick","startCountdown","disabled"],"mappings":"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","file":"static/js/app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o) {\n  var i = 0;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  i = o[Symbol.iterator]();\n  return i.next.bind(i);\n}\n\nvar CancellationToken = /*#__PURE__*/function () {\n  function CancellationToken() {\n    var cancellables = [].slice.call(arguments);\n    this.cancelables = cancellables !== null && cancellables !== void 0 ? cancellables : [];\n    this._isCancelled = false;\n  }\n\n  var _proto = CancellationToken.prototype;\n\n  _proto.hasCancellables = function hasCancellables() {\n    return this.cancelables.length > 0;\n  };\n\n  _proto.addCancelable = function addCancelable(delegate) {\n    this.throwIfCancelled('attempting to add cancellable to token that is already cancelled');\n    this.cancelables.push(delegate);\n\n    if (this.cancelables.length === 200) {\n      console.log('potential memory leak: cancellation token has over 200 clean up calls');\n    }\n\n    return this;\n  };\n\n  _proto.removeCancelable = function removeCancelable(delegate) {\n    this.throwIfCancelled('attempting to remove cancellable from token that is already cancelled');\n    var index = this.cancelables.indexOf(delegate);\n\n    if (index !== -1) {\n      this.cancelables.splice(index, 1);\n    }\n\n    return this;\n  };\n\n  _proto.setTimeout = function (_setTimeout) {\n    function setTimeout(_x) {\n      return _setTimeout.apply(this, arguments);\n    }\n\n    setTimeout.toString = function () {\n      return _setTimeout.toString();\n    };\n\n    return setTimeout;\n  }(function (cb, time) {\n    var _this = this;\n\n    if (time === void 0) {\n      time = 0;\n    }\n\n    var id = setTimeout(function () {\n      _this.removeCancelable(cancelable);\n\n      cb();\n    }, time);\n\n    var cancelable = function cancelable() {\n      return clearTimeout(id);\n    };\n\n    this.addCancelable(cancelable);\n  });\n\n  _proto.setInterval = function (_setInterval) {\n    function setInterval(_x2, _x3) {\n      return _setInterval.apply(this, arguments);\n    }\n\n    setInterval.toString = function () {\n      return _setInterval.toString();\n    };\n\n    return setInterval;\n  }(function (cb, time) {\n    var id = setInterval(cb, time);\n    this.addCancelable(function () {\n      return clearInterval(id);\n    });\n  });\n\n  _proto.requestAnimationFrame = function (_requestAnimationFrame) {\n    function requestAnimationFrame(_x4) {\n      return _requestAnimationFrame.apply(this, arguments);\n    }\n\n    requestAnimationFrame.toString = function () {\n      return _requestAnimationFrame.toString();\n    };\n\n    return requestAnimationFrame;\n  }(function (cb) {\n    var _this2 = this;\n\n    var id = requestAnimationFrame(function () {\n      _this2.removeCancelable(cancelable);\n\n      cb();\n    });\n\n    var cancelable = function cancelable() {\n      return cancelAnimationFrame(id);\n    };\n\n    this.addCancelable(cancelable);\n  });\n\n  _proto.animationLoop = function animationLoop(cb) {\n    var id = requestAnimationFrame(function f(time) {\n      id = requestAnimationFrame(f);\n      cb(time);\n    });\n    this.addCancelable(function () {\n      return cancelAnimationFrame(id);\n    });\n  };\n\n  _proto.throwIfCancelled = function throwIfCancelled(msg) {\n    if (this.isCanceled) {\n      throw new Error(msg || 'cancellation token is cancelled');\n    }\n  };\n\n  _proto.chain = function chain(target, twoWays) {\n    if (twoWays === void 0) {\n      twoWays = false;\n    }\n\n    if (twoWays) {\n      target.chain(this, false);\n    }\n\n    this.addCancelable(function () {\n      return target.cancel();\n    });\n    return this;\n  };\n\n  _proto.registerDomEvent = function registerDomEvent(eventEmitter, event, callback) {\n    eventEmitter.addEventListener(event, callback);\n    this.addCancelable(function () {\n      return eventEmitter.removeEventListener(event, callback);\n    });\n    return this;\n  };\n\n  _proto.cancel = function cancel() {\n    if (this.isCanceled) {\n      return;\n    }\n\n    this._isCancelled = true;\n    this.cancelables.forEach(function (c) {\n      return c();\n    });\n    this.cancelables = undefined;\n  };\n\n  _createClass(CancellationToken, [{\n    key: \"isCanceled\",\n    get: function get() {\n      return this._isCancelled;\n    }\n  }]);\n\n  return CancellationToken;\n}();\n\nvar EventEmitter = /*#__PURE__*/function () {\n  function EventEmitter() {\n    this.subscribeChannel = [];\n    this.subscribeOnceChannel = [];\n    this.onAfterFire = [];\n  }\n\n  var _proto = EventEmitter.prototype;\n\n  _proto.subscribe = function subscribe(callback, cancellationToken) {\n    var _this$createSubscript = this.createSubscription(callback, this.subscribeChannel, cancellationToken),\n        facade = _this$createSubscript.facade;\n\n    return facade;\n  };\n\n  _proto.subscribeOnce = function subscribeOnce(callback, cancellationToken) {\n    var _this$createSubscript2 = this.createSubscription(callback, this.subscribeOnceChannel, cancellationToken),\n        facade = _this$createSubscript2.facade;\n\n    return facade;\n  };\n\n  _proto.hasSubscriptions = function hasSubscriptions() {\n    return this.subscriptions > 0;\n  };\n\n  _proto.cancelAll = function cancelAll() {\n    var _this = this;\n\n    var _a;\n\n    if (!this.isFiring) {\n      this.subscribeChannel.length = 0;\n      this.subscribeOnceChannel.length = 0;\n      (_a = this.onEmpty) === null || _a === void 0 ? void 0 : _a.call(this);\n    } else {\n      this.onAfterFire.push(function () {\n        var _a;\n\n        _this.subscribeChannel.length = 0;\n        _this.subscribeOnceChannel.length = 0;\n        (_a = _this.onEmpty) === null || _a === void 0 ? void 0 : _a.call(_this);\n      });\n    }\n  };\n\n  _proto.afterFire = function afterFire() {\n    if (this.onAfterFire.length > 0) {\n      this.onAfterFire.forEach(function (cb) {\n        return cb();\n      });\n      this.onAfterFire.length = 0;\n    }\n  };\n\n  _proto.fire = function fire(data) {\n    this.isFiring = true;\n    var length = this.subscribeChannel.length;\n\n    for (var i = 0; i < length; i++) {\n      try {\n        this.subscribeChannel[i].callback(data);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n\n    if (this.subscribeOnceChannel.length > 0) {\n      length = this.subscribeOnceChannel.length;\n\n      for (var _i = 0; _i < length; _i++) {\n        try {\n          this.subscribeOnceChannel[_i].callback(data);\n        } catch (e) {\n          console.error(e);\n        }\n      }\n\n      this.subscribeOnceChannel.length = 0;\n    }\n\n    this.isFiring = false;\n    this.afterFire();\n  };\n\n  _proto.createSubscription = function createSubscription(callback, channel, cancellationToken) {\n    var that = this;\n    var subscription = {\n      callback: callback\n    };\n    var facade = {\n      cancel: function cancel() {\n        that.cancel(subscription, channel);\n      }\n    };\n\n    if (cancellationToken !== undefined) {\n      cancellationToken.addCancelable(function () {\n        return that.cancel(subscription, channel);\n      });\n    }\n\n    channel.push(subscription);\n    return {\n      subscription: subscription,\n      facade: facade\n    };\n  };\n\n  _proto.cancel = function cancel(subscription, channel) {\n    var _this2 = this;\n\n    var _a;\n\n    var index = channel.indexOf(subscription);\n\n    if (index >= 0) {\n      if (!this.isFiring) {\n        channel.splice(index, 1);\n\n        if (!this.hasSubscriptions()) {\n          (_a = this.onEmpty) === null || _a === void 0 ? void 0 : _a.call(this);\n        }\n      } else {\n        this.onAfterFire.push(function () {\n          return _this2.cancel(subscription, channel);\n        });\n      }\n    }\n  };\n\n  _createClass(EventEmitter, [{\n    key: \"subscriptions\",\n    get: function get() {\n      return this.subscribeChannel.length + this.subscribeOnceChannel.length;\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\n(function (OperationType) {\n  OperationType[OperationType[\"FILTER\"] = 0] = \"FILTER\";\n  OperationType[OperationType[\"NOOP\"] = 1] = \"NOOP\";\n  OperationType[OperationType[\"MAP\"] = 2] = \"MAP\";\n  OperationType[OperationType[\"DELAY\"] = 3] = \"DELAY\";\n  OperationType[OperationType[\"MAP_DELAY\"] = 4] = \"MAP_DELAY\";\n  OperationType[OperationType[\"DELAY_FILTER\"] = 5] = \"DELAY_FILTER\";\n  OperationType[OperationType[\"MAP_DELAY_FILTER\"] = 6] = \"MAP_DELAY_FILTER\";\n})(exports.OperationType || (exports.OperationType = {}));\n\nfunction _settle(pact, state, value) {\n  if (!pact.s) {\n    if (value instanceof _Pact) {\n      if (value.s) {\n        if (state & 1) {\n          state = value.s;\n        }\n\n        value = value.v;\n      } else {\n        value.o = _settle.bind(null, pact, state);\n        return;\n      }\n    }\n\n    if (value && value.then) {\n      value.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n      return;\n    }\n\n    pact.s = state;\n    pact.v = value;\n    var observer = pact.o;\n\n    if (observer) {\n      observer(pact);\n    }\n  }\n}\n\nvar _Pact = /*#__PURE__*/function () {\n  function _Pact() {}\n\n  _Pact.prototype.then = function (onFulfilled, onRejected) {\n    var result = new _Pact();\n    var state = this.s;\n\n    if (state) {\n      var callback = state & 1 ? onFulfilled : onRejected;\n\n      if (callback) {\n        try {\n          _settle(result, 1, callback(this.v));\n        } catch (e) {\n          _settle(result, 2, e);\n        }\n\n        return result;\n      } else {\n        return this;\n      }\n    }\n\n    this.o = function (_this) {\n      try {\n        var value = _this.v;\n\n        if (_this.s & 1) {\n          _settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n        } else if (onRejected) {\n          _settle(result, 1, onRejected(value));\n        } else {\n          _settle(result, 2, value);\n        }\n      } catch (e) {\n        _settle(result, 2, e);\n      }\n    };\n\n    return result;\n  };\n\n  return _Pact;\n}();\n\nfunction _switch(discriminant, cases) {\n  var dispatchIndex = -1;\n  var awaitBody;\n\n  outer: {\n    for (var i = 0; i < cases.length; i++) {\n      var test = cases[i][0];\n\n      if (test) {\n        var testValue = test();\n\n        if (testValue && testValue.then) {\n          break outer;\n        }\n\n        if (testValue === discriminant) {\n          dispatchIndex = i;\n          break;\n        }\n      } else {\n        dispatchIndex = i;\n      }\n    }\n\n    if (dispatchIndex !== -1) {\n      do {\n        var body = cases[dispatchIndex][1];\n\n        while (!body) {\n          dispatchIndex++;\n          body = cases[dispatchIndex][1];\n        }\n\n        var result = body();\n\n        if (result && result.then) {\n          awaitBody = true;\n          break outer;\n        }\n\n        var fallthroughCheck = cases[dispatchIndex][2];\n        dispatchIndex++;\n      } while (fallthroughCheck && !fallthroughCheck());\n\n      return result;\n    }\n  }\n\n  var pact = new _Pact();\n\n  var reject = _settle.bind(null, pact, 2);\n\n  (awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n  return pact;\n\n  function _resumeAfterTest(value) {\n    for (;;) {\n      if (value === discriminant) {\n        dispatchIndex = i;\n        break;\n      }\n\n      if (++i === cases.length) {\n        if (dispatchIndex !== -1) {\n          break;\n        } else {\n          _settle(pact, 1, result);\n\n          return;\n        }\n      }\n\n      test = cases[i][0];\n\n      if (test) {\n        value = test();\n\n        if (value && value.then) {\n          value.then(_resumeAfterTest).then(void 0, reject);\n          return;\n        }\n      } else {\n        dispatchIndex = i;\n      }\n    }\n\n    do {\n      var body = cases[dispatchIndex][1];\n\n      while (!body) {\n        dispatchIndex++;\n        body = cases[dispatchIndex][1];\n      }\n\n      var result = body();\n\n      if (result && result.then) {\n        result.then(_resumeAfterBody).then(void 0, reject);\n        return;\n      }\n\n      var fallthroughCheck = cases[dispatchIndex][2];\n      dispatchIndex++;\n    } while (fallthroughCheck && !fallthroughCheck());\n\n    _settle(pact, 1, result);\n  }\n\n  function _resumeAfterBody(result) {\n    for (;;) {\n      var fallthroughCheck = cases[dispatchIndex][2];\n\n      if (!fallthroughCheck || fallthroughCheck()) {\n        break;\n      }\n\n      dispatchIndex++;\n      var body = cases[dispatchIndex][1];\n\n      while (!body) {\n        dispatchIndex++;\n        body = cases[dispatchIndex][1];\n      }\n\n      result = body();\n\n      if (result && result.then) {\n        result.then(_resumeAfterBody).then(void 0, reject);\n        return;\n      }\n    }\n\n    _settle(pact, 1, result);\n  }\n}\n\nvar _iteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\n\nfunction _isSettledPact(thenable) {\n  return thenable instanceof _Pact && thenable.s & 1;\n}\n\nfunction _forTo(array, body, check) {\n  var i = -1,\n      pact,\n      reject;\n\n  function _cycle(result) {\n    try {\n      while (++i < array.length && (!check || !check())) {\n        result = body(i);\n\n        if (result && result.then) {\n          if (_isSettledPact(result)) {\n            result = result.v;\n          } else {\n            result.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n            return;\n          }\n        }\n      }\n\n      if (pact) {\n        _settle(pact, 1, result);\n      } else {\n        pact = result;\n      }\n    } catch (e) {\n      _settle(pact || (pact = new _Pact()), 2, e);\n    }\n  }\n\n  _cycle();\n\n  return pact;\n}\n\nfunction _forOf(target, body, check) {\n  if (typeof target[_iteratorSymbol] === \"function\") {\n    var _cycle2 = function _cycle2(result) {\n      try {\n        while (!(step = iterator.next()).done && (!check || !check())) {\n          result = body(step.value);\n\n          if (result && result.then) {\n            if (_isSettledPact(result)) {\n              result = result.v;\n            } else {\n              result.then(_cycle2, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n              return;\n            }\n          }\n        }\n\n        if (pact) {\n          _settle(pact, 1, result);\n        } else {\n          pact = result;\n        }\n      } catch (e) {\n        _settle(pact || (pact = new _Pact()), 2, e);\n      }\n    };\n\n    var iterator = target[_iteratorSymbol](),\n        step,\n        pact,\n        reject;\n\n    _cycle2();\n\n    if (iterator[\"return\"]) {\n      var _fixup = function _fixup(value) {\n        try {\n          if (!step.done) {\n            iterator[\"return\"]();\n          }\n        } catch (e) {}\n\n        return value;\n      };\n\n      if (pact && pact.then) {\n        return pact.then(_fixup, function (e) {\n          throw _fixup(e);\n        });\n      }\n\n      _fixup();\n    }\n\n    return pact;\n  }\n\n  if (!(\"length\" in target)) {\n    throw new TypeError(\"Object is not iterable\");\n  }\n\n  var values = [];\n\n  for (var i = 0; i < target.length; i++) {\n    values.push(target[i]);\n  }\n\n  return _forTo(values, function (i) {\n    return body(values[i]);\n  }, check);\n}\n\nvar DataSource = /*#__PURE__*/function () {\n  function DataSource(initialValue, name) {\n    if (name === void 0) {\n      name = 'RootDataSource';\n    }\n\n    this.name = name;\n    this.value = initialValue;\n    this.primed = initialValue !== undefined;\n    this.updateEvent = new EventEmitter();\n  }\n\n  DataSource.fromMultipleSources = function fromMultipleSources(sources, cancellation) {\n    var result = new DataSource();\n\n    for (var _iterator = _createForOfIteratorHelperLoose(sources), _step; !(_step = _iterator()).done;) {\n      var s = _step.value;\n      s.listen(function (v) {\n        return result.update(v);\n      }, cancellation);\n    }\n\n    result.name = \"Combination of [\" + sources.map(function (v) {\n      return v.name;\n    }).join(' & ') + \"]\";\n    return result;\n  };\n\n  var _proto = DataSource.prototype;\n\n  _proto.repeatLast = function repeatLast() {\n    this.update(this.value);\n    return this;\n  };\n\n  _proto.update = function update(newValue) {\n    this.primed = true;\n\n    if (this.updating) {\n      throw new Error('Problem in data source: Unstable value propagation. When updating a value the stream was updated back as a direct response. This can lead to infinite loops and is therefore not allowed');\n    }\n\n    this.updating = true;\n    this.value = newValue;\n    this.updateEvent.fire(newValue);\n    this.updating = false;\n  };\n\n  _proto.withInitial = function withInitial(value) {\n    if (!this.primed) {\n      this.update(value);\n    }\n\n    return this;\n  };\n\n  _proto.listenAndRepeat = function listenAndRepeat(callback, cancellationToken) {\n    callback(this.value);\n    return this.listen(callback, cancellationToken);\n  };\n\n  _proto.listen = function listen(callback, cancellationToken) {\n    return this.updateEvent.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.listenOnce = function listenOnce(callback, cancellationToken) {\n    return this.updateEvent.subscribeOnce(callback, cancellationToken).cancel;\n  };\n\n  _proto.transform = function transform(operationA, operationB, operationC, operationD, operationE, operationF, operationG, operationH, operationI, operationJ, operationK, cancellationToken) {\n    var token;\n    var operations = [operationA, operationB, operationC, operationD, operationE, operationF, operationG, operationH, operationI, operationJ, operationK].filter(function (e) {\n      return e && (e instanceof CancellationToken ? (token = e, false) : true);\n    });\n\n    if (cancellationToken) {\n      token = cancellationToken;\n    }\n\n    var result = new DataSource(undefined, this.name + ' ' + operations.map(function (v) {\n      return v.name;\n    }).join(' '));\n    (this.primed ? this.listenAndRepeat : this.listen).call(this, processTransform(operations, result), token);\n    return result;\n  };\n\n  _proto.pipe = function pipe(targetDataSource, cancellationToken) {\n    this.listen(function (v) {\n      return targetDataSource.update(v);\n    }, cancellationToken);\n    return this;\n  };\n\n  _proto.map = function map(callback, cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var mappedSource;\n\n    if (this.primed) {\n      mappedSource = new TransientDataSource(cancellationToken, callback(this.value));\n    } else {\n      mappedSource = new TransientDataSource(cancellationToken);\n    }\n\n    this.listen(function (value) {\n      mappedSource.update(callback(value));\n    }, cancellationToken);\n    return mappedSource;\n  };\n\n  _proto.tap = function tap(callback, cancellationToken) {\n    this.listen(function (value) {\n      callback(value);\n    }, cancellationToken);\n    return this;\n  };\n\n  _proto.unique = function unique(cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var uniqueSource = new TransientDataSource(cancellationToken, this.value);\n    this.listen(function (value) {\n      if (value !== uniqueSource.value) {\n        uniqueSource.update(value);\n      }\n    }, cancellationToken);\n    return uniqueSource;\n  };\n\n  _proto.diff = function diff(cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var diffingSource = new TransientDataSource(cancellationToken, {\n      \"new\": this.value,\n      old: undefined\n    });\n    this.listen(function (value) {\n      diffingSource.update({\n        \"new\": value,\n        old: diffingSource.value[\"new\"]\n      });\n    }, cancellationToken);\n    return diffingSource;\n  };\n\n  _proto.reduce = function reduce(reducer, initialValue, cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var reduceSource = new TransientDataSource(cancellationToken, initialValue);\n    this.listen(function (v) {\n      return reduceSource.update(reducer(reduceSource.value, v));\n    }, cancellationToken);\n    return reduceSource;\n  };\n\n  _proto.aggregate = function aggregate(otherSource, combinator, cancellationToken) {\n    var _this = this;\n\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var aggregatedSource = new TransientDataSource(cancellationToken, combinator(this.value, otherSource.value));\n    this.listen(function () {\n      return aggregatedSource.update(combinator(_this.value, otherSource.value));\n    }, cancellationToken);\n    otherSource.listen(function () {\n      return aggregatedSource.update(combinator(_this.value, otherSource.value));\n    }, cancellationToken);\n    return aggregatedSource;\n  };\n\n  _proto.aggregateThree = function aggregateThree(second, third, combinator, cancellationToken) {\n    var _this2 = this;\n\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var aggregatedSource = new TransientDataSource(cancellationToken, combinator(this.value, second.value, third.value));\n    this.listen(function () {\n      return aggregatedSource.update(combinator(_this2.value, second.value, third.value));\n    }, cancellationToken);\n    second.listen(function () {\n      return aggregatedSource.update(combinator(_this2.value, second.value, third.value));\n    }, cancellationToken);\n    third.listen(function () {\n      return aggregatedSource.update(combinator(_this2.value, second.value, third.value));\n    }, cancellationToken);\n    return aggregatedSource;\n  };\n\n  _proto.aggregateFour = function aggregateFour(second, third, fourth, combinator, cancellationToken) {\n    var _this3 = this;\n\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var aggregatedSource = new TransientDataSource(cancellationToken, combinator(this.value, second.value, third.value, fourth.value));\n    this.listen(function () {\n      return aggregatedSource.update(combinator(_this3.value, second.value, third.value, fourth.value));\n    }, cancellationToken);\n    second.listen(function () {\n      return aggregatedSource.update(combinator(_this3.value, second.value, third.value, fourth.value));\n    }, cancellationToken);\n    third.listen(function () {\n      return aggregatedSource.update(combinator(_this3.value, second.value, third.value, fourth.value));\n    }, cancellationToken);\n    fourth.listen(function () {\n      return aggregatedSource.update(combinator(_this3.value, second.value, third.value, fourth.value));\n    }, cancellationToken);\n    return aggregatedSource;\n  };\n\n  _proto.aggregateFive = function aggregateFive(second, third, fourth, fifth, combinator, cancellationToken) {\n    var _this4 = this;\n\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var aggregatedSource = new TransientDataSource(cancellationToken, combinator(this.value, second.value, third.value, fourth.value, fifth.value));\n    this.listen(function () {\n      return aggregatedSource.update(combinator(_this4.value, second.value, third.value, fourth.value, fifth.value));\n    }, cancellationToken);\n    second.listen(function () {\n      return aggregatedSource.update(combinator(_this4.value, second.value, third.value, fourth.value, fifth.value));\n    }, cancellationToken);\n    third.listen(function () {\n      return aggregatedSource.update(combinator(_this4.value, second.value, third.value, fourth.value, fifth.value));\n    }, cancellationToken);\n    fourth.listen(function () {\n      return aggregatedSource.update(combinator(_this4.value, second.value, third.value, fourth.value, fifth.value));\n    }, cancellationToken);\n    fifth.listen(function () {\n      return aggregatedSource.update(combinator(_this4.value, second.value, third.value, fourth.value, fifth.value));\n    }, cancellationToken);\n    return aggregatedSource;\n  };\n\n  _proto.combine = function combine(otherSources, cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var combinedDataSource = new TransientDataSource(cancellationToken);\n    this.pipe(combinedDataSource, cancellationToken);\n\n    for (var _iterator2 = _createForOfIteratorHelperLoose(otherSources), _step2; !(_step2 = _iterator2()).done;) {\n      var otherSource = _step2.value;\n      otherSource.pipe(combinedDataSource, cancellationToken);\n    }\n\n    return combinedDataSource;\n  };\n\n  _proto.delay = function delay(time, cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var delayedDataSource = new TransientDataSource(cancellationToken, this.value);\n    this.listen(function (v) {\n      setTimeout(function () {\n        delayedDataSource.update(v);\n      }, time);\n    }, cancellationToken);\n    return delayedDataSource;\n  };\n\n  _proto.skip = function skip(amount, cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var delayedDataSource = new TransientDataSource(cancellationToken, this.value);\n    this.listen(function (v) {\n      if (amount === 0) {\n        delayedDataSource.update(v);\n      } else {\n        amount--;\n      }\n    }, cancellationToken);\n    return delayedDataSource;\n  };\n\n  _proto.cutoff = function cutoff(amount, cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var delayedDataSource = new TransientDataSource(cancellationToken, this.value);\n    this.listen(function (v) {\n      if (amount-- > 0) {\n        delayedDataSource.update(v);\n      }\n    }, cancellationToken);\n    return delayedDataSource;\n  };\n\n  _proto.awaitNextUpdate = function awaitNextUpdate(cancellationToken) {\n    var _this5 = this;\n\n    return new Promise(function (resolve) {\n      _this5.listenOnce(function (value) {\n        return resolve(value);\n      }, cancellationToken);\n    });\n  };\n\n  _proto.debounce = function debounce(time, cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var debouncedDataSource = new TransientDataSource(cancellationToken, this.value);\n    var timeout;\n    this.listen(function (v) {\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        debouncedDataSource.update(v);\n      }, time);\n    }, cancellationToken);\n    return debouncedDataSource;\n  };\n\n  _proto.buffer = function buffer(time, cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var bufferedDataSource = new TransientDataSource(cancellationToken);\n    var timeout;\n    var buffer = [];\n    this.listen(function (v) {\n      buffer.push(v);\n\n      if (!timeout) {\n        timeout = setTimeout(function () {\n          timeout = undefined;\n          bufferedDataSource.update(buffer);\n          buffer = [];\n        }, time);\n      }\n    }, cancellationToken);\n    return bufferedDataSource;\n  };\n\n  _proto.accumulate = function accumulate(cancellationToken) {\n    var queueDataSource = new ArrayDataSource();\n    this.listen(function (v) {\n      queueDataSource.push(v);\n    }, cancellationToken);\n    return queueDataSource;\n  };\n\n  _proto.pick = function pick(key, cancellationToken) {\n    var _a;\n\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var subDataSource = new TransientDataSource(cancellationToken, (_a = this.value) === null || _a === void 0 ? void 0 : _a[key]);\n    this.listen(function (v) {\n      if (v !== undefined && v !== null) {\n        subDataSource.update(v[key]);\n      } else {\n        subDataSource.update(v);\n      }\n    }, cancellationToken);\n    return subDataSource;\n  };\n\n  _proto.cancelAll = function cancelAll() {\n    this.updateEvent.cancelAll();\n  };\n\n  return DataSource;\n}();\nvar TransientDataSource = /*#__PURE__*/function (_DataSource) {\n  _inheritsLoose(TransientDataSource, _DataSource);\n\n  function TransientDataSource(disposeToken, initialValue, name) {\n    var _this6;\n\n    _this6 = _DataSource.call(this, initialValue, name) || this;\n    _this6.disposeToken = disposeToken;\n\n    _this6.updateEvent.onEmpty = function () {\n      disposeToken.cancel();\n      Object.defineProperty(_assertThisInitialized(_this6), 'value', {\n        get: function get() {\n          throw new Error('Transient data source has expired and can no longer be used if you wish to use it even after all listeners were removed \"persist\". Note that persisted data sources will not be garabge collected unless you remove the subscription they have on their parent source');\n        },\n        set: function set() {\n          throw new Error('Transient data source has expired and can no longer be used if you wish to use it even after all listeners were removed \"persist\". Note that persisted data sources will not be garabge collected unless you remove the subscription they have on their parent source');\n        }\n      });\n    };\n\n    return _this6;\n  }\n\n  var _proto2 = TransientDataSource.prototype;\n\n  _proto2.persist = function persist() {\n    this.updateEvent.onEmpty = undefined;\n    return this;\n  };\n\n  _proto2.listen = function listen(callback, cancellationToken) {\n    this.disposeToken.throwIfCancelled('Transient data source has expired. Listening not possible');\n    return _DataSource.prototype.listen.call(this, callback, cancellationToken);\n  };\n\n  _proto2.listenAndRepeat = function listenAndRepeat(callback, cancellationToken) {\n    this.disposeToken.throwIfCancelled('Transient data source has expired. Listening not possible');\n    return _DataSource.prototype.listenAndRepeat.call(this, callback, cancellationToken);\n  };\n\n  _proto2.listenOnce = function listenOnce(callback, cancellationToken) {\n    this.disposeToken.throwIfCancelled('Transient data source has expired. Listening not possible');\n\n    return _DataSource.prototype.listen.call(this, callback, cancellationToken);\n  };\n\n  return TransientDataSource;\n}(DataSource);\nvar ArrayDataSource = /*#__PURE__*/function () {\n  function ArrayDataSource(initialData) {\n    if (initialData) {\n      this.data = initialData.slice();\n    } else {\n      this.data = [];\n    }\n\n    this.lengthSource = new DataSource(this.data.length);\n    this.updateEvent = new EventEmitter();\n  }\n\n  ArrayDataSource.fromMultipleSources = function fromMultipleSources(cancellationToken) {\n    var sources = [].slice.call(arguments, 1);\n\n    var _a;\n\n    var boundaries = [0];\n    var result = new ArrayDataSource();\n\n    for (var i = 0; i < sources.length; i++) {\n      if (Array.isArray(sources[i])) {\n        result.appendArray(sources[i]);\n      } else {\n        (function () {\n          result.appendArray((_a = sources[i].data) !== null && _a !== void 0 ? _a : []);\n          var index = i;\n          sources[i].listen(function (change) {\n            switch (change.operationDetailed) {\n              case 'append':\n              case 'prepend':\n              case 'insert':\n                result.insertAt.apply(result, [change.index + boundaries[index]].concat(change.items));\n\n                for (var _i = index + 1; _i < boundaries.length; _i++) {\n                  boundaries[_i] += change.count;\n                }\n\n                break;\n\n              case 'remove':\n              case 'removeLeft':\n              case 'removeRight':\n              case 'clear':\n                result.removeRange(change.index + boundaries[index], change.index + boundaries[index] + change.count);\n\n                for (var _i2 = index + 1; _i2 < boundaries.length; _i2++) {\n                  boundaries[_i2] -= change.count;\n                }\n\n                break;\n\n              case 'merge':\n                throw new Error('Not yet supported');\n\n              case 'replace':\n                result.set(change.index + boundaries[index], change.items[0]);\n                break;\n\n              case 'swap':\n                result.swap(change.index + boundaries[index], change.index2 + boundaries[index]);\n                break;\n            }\n          }, cancellationToken);\n        })();\n      }\n\n      boundaries.push(result.length.value);\n    }\n\n    return result;\n  };\n\n  var _proto3 = ArrayDataSource.prototype;\n\n  _proto3.listenAndRepeat = function listenAndRepeat(callback, cancellationToken) {\n    callback({\n      operation: 'add',\n      operationDetailed: 'append',\n      index: 0,\n      items: this.data,\n      newState: this.data,\n      count: this.data.length\n    });\n    return this.listen(callback, cancellationToken);\n  };\n\n  _proto3.repeatCurrentState = function repeatCurrentState() {\n    this.update({\n      operation: 'remove',\n      operationDetailed: 'clear',\n      count: this.data.length,\n      index: 0,\n      items: this.data,\n      newState: []\n    });\n    this.update({\n      operation: 'add',\n      operationDetailed: 'append',\n      index: 0,\n      items: this.data,\n      newState: this.data,\n      count: this.data.length\n    });\n  };\n\n  _proto3.listen = function listen(callback, cancellationToken) {\n    return this.updateEvent.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto3.listenOnce = function listenOnce(callback, cancellationToken) {\n    return this.updateEvent.subscribeOnce(callback, cancellationToken).cancel;\n  };\n\n  _proto3.awaitNextUpdate = function awaitNextUpdate(cancellationToken) {\n    var _this7 = this;\n\n    return new Promise(function (resolve) {\n      _this7.listenOnce(function (value) {\n        return resolve(value);\n      }, cancellationToken);\n    });\n  };\n\n  _proto3.getData = function getData() {\n    return this.data;\n  };\n\n  _proto3.get = function get(index) {\n    return this.data[index];\n  };\n\n  _proto3.set = function set(index, item) {\n    var old = this.data[index];\n\n    if (old === item) {\n      return;\n    }\n\n    this.data[index] = item;\n    this.update({\n      operation: 'replace',\n      operationDetailed: 'replace',\n      target: old,\n      count: 1,\n      index: index,\n      items: [item],\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.swap = function swap(indexA, indexB) {\n    if (indexA === indexB) {\n      return;\n    }\n\n    var itemA = this.data[indexA];\n    var itemB = this.data[indexB];\n    this.data[indexB] = itemA;\n    this.data[indexA] = itemB;\n    this.update({\n      operation: 'swap',\n      operationDetailed: 'swap',\n      index: indexA,\n      index2: indexB,\n      items: [itemA, itemB],\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.swapItems = function swapItems(itemA, itemB) {\n    if (itemA === itemB) {\n      return;\n    }\n\n    var indexA = this.data.indexOf(itemA);\n    var indexB = this.data.indexOf(itemB);\n\n    if (indexA !== -1 && indexB !== -1) {\n      this.data[indexB] = itemA;\n      this.data[indexA] = itemB;\n    }\n\n    this.update({\n      operation: 'swap',\n      operationDetailed: 'swap',\n      index: indexA,\n      index2: indexB,\n      items: [itemA, itemB],\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.appendArray = function appendArray(items) {\n    this.data = this.data.concat(items);\n    this.update({\n      operation: 'add',\n      operationDetailed: 'append',\n      count: items.length,\n      index: this.data.length - items.length,\n      items: items,\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.insertAt = function insertAt(index) {\n    var _this$data;\n\n    var items = [].slice.call(arguments, 1);\n\n    if (items.length === 0) {\n      return;\n    }\n\n    (_this$data = this.data).splice.apply(_this$data, [index, 0].concat(items));\n\n    this.update({\n      operation: 'add',\n      operationDetailed: 'insert',\n      count: items.length,\n      index: index,\n      items: items,\n      newState: this.data\n    });\n    this.lengthSource.update(this.data.length);\n  };\n\n  _proto3.push = function push() {\n    this.appendArray([].slice.call(arguments));\n  };\n\n  _proto3.unshift = function unshift() {\n    var _this$data2;\n\n    var items = [].slice.call(arguments);\n\n    (_this$data2 = this.data).unshift.apply(_this$data2, items);\n\n    this.update({\n      operation: 'add',\n      operationDetailed: 'prepend',\n      count: items.length,\n      items: items,\n      index: 0,\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.pop = function pop() {\n    var item = this.data.pop();\n    this.update({\n      operation: 'remove',\n      operationDetailed: 'removeRight',\n      count: 1,\n      index: this.data.length,\n      items: [item],\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n\n    return item;\n  };\n\n  _proto3.merge = function merge(newData) {\n    var old = this.data;\n    this.data = newData.slice();\n    this.update({\n      operation: 'merge',\n      operationDetailed: 'merge',\n      previousState: old,\n      index: 0,\n      items: this.data,\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.removeRight = function removeRight(count) {\n    var length = this.data.length;\n    var result = this.data.splice(length - count, count);\n    this.update({\n      operation: 'remove',\n      operationDetailed: 'removeRight',\n      count: count,\n      index: length - count,\n      items: result,\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.removeLeft = function removeLeft(count) {\n    var result = this.data.splice(0, count);\n    this.update({\n      operation: 'remove',\n      operationDetailed: 'removeLeft',\n      count: count,\n      index: 0,\n      items: result,\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.removeAt = function removeAt(index) {\n    var removed = this.data.splice(index, 1);\n    this.update({\n      operation: 'remove',\n      operationDetailed: 'remove',\n      count: removed.length,\n      index: index,\n      items: removed,\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.removeRange = function removeRange(start, end) {\n    var removed = this.data.splice(start, end - start);\n    this.update({\n      operation: 'remove',\n      operationDetailed: 'remove',\n      count: removed.length,\n      index: start,\n      items: removed,\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.remove = function remove(item) {\n    var index = this.data.indexOf(item);\n\n    if (index !== -1) {\n      this.removeAt(index);\n    }\n  };\n\n  _proto3.clear = function clear() {\n    if (this.data.length === 0) {\n      return;\n    }\n\n    var items = this.data;\n    this.data = [];\n    this.update({\n      operation: 'remove',\n      operationDetailed: 'clear',\n      count: items.length,\n      index: 0,\n      items: items,\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n  };\n\n  _proto3.shift = function shift() {\n    var item = this.data.shift();\n    this.update({\n      operation: 'remove',\n      operationDetailed: 'removeLeft',\n      items: [item],\n      count: 1,\n      index: 0,\n      newState: this.data\n    });\n\n    if (this.lengthSource.value !== this.data.length) {\n      this.lengthSource.update(this.data.length);\n    }\n\n    return item;\n  };\n\n  _proto3.toArray = function toArray() {\n    return this.data.slice();\n  };\n\n  _proto3.reverse = function reverse(cancellationToken) {\n    var view = new ReversedArrayView(this, cancellationToken);\n    return view;\n  };\n\n  _proto3.sort = function sort(comparator, dependencies, cancellationToken) {\n    if (dependencies === void 0) {\n      dependencies = [];\n    }\n\n    var view = new SortedArrayView(this, comparator, cancellationToken);\n    dependencies.forEach(function (dep) {\n      dep.listen(function () {\n        return view.refresh();\n      });\n    }, cancellationToken);\n    return view;\n  };\n\n  _proto3.map = function map(mapper, dependencies, cancellationToken) {\n    if (dependencies === void 0) {\n      dependencies = [];\n    }\n\n    var view = new MappedArrayView(this, mapper, cancellationToken);\n    dependencies.forEach(function (dep) {\n      dep.listen(function () {\n        return view.refresh();\n      });\n    }, cancellationToken);\n    return view;\n  };\n\n  _proto3.filter = function filter(callback, dependencies, cancellationToken) {\n    if (dependencies === void 0) {\n      dependencies = [];\n    }\n\n    var view = new FilteredArrayView(this, callback, cancellationToken);\n    dependencies.forEach(function (dep) {\n      dep.listen(function () {\n        return view.refresh();\n      }, cancellationToken);\n    });\n    return view;\n  };\n\n  _proto3.forEach = function forEach(callbackfn) {\n    return this.data.forEach(callbackfn);\n  };\n\n  _proto3.update = function update(change) {\n    this.updateEvent.fire(change);\n  };\n\n  _createClass(ArrayDataSource, [{\n    key: \"length\",\n    get: function get() {\n      return this.lengthSource;\n    }\n  }]);\n\n  return ArrayDataSource;\n}();\nvar MappedArrayView = /*#__PURE__*/function (_ArrayDataSource) {\n  _inheritsLoose(MappedArrayView, _ArrayDataSource);\n\n  function MappedArrayView(parent, mapper, cancellationToken) {\n    var _this8;\n\n    if (cancellationToken === void 0) {\n      cancellationToken = new CancellationToken();\n    }\n\n    var initial = parent.getData().map(mapper);\n    _this8 = _ArrayDataSource.call(this, initial) || this;\n    _this8.parent = parent;\n    _this8.mapper = mapper;\n    parent.listen(function (change) {\n      var _this9, _this10;\n\n      switch (change.operationDetailed) {\n        case 'removeLeft':\n          _this8.removeLeft(change.count);\n\n          break;\n\n        case 'removeRight':\n          _this8.removeRight(change.count);\n\n          break;\n\n        case 'remove':\n          _this8.remove(_this8.data[change.index]);\n\n          break;\n\n        case 'clear':\n          _this8.clear();\n\n          break;\n\n        case 'prepend':\n          (_this9 = _this8).unshift.apply(_this9, change.items.map(_this8.mapper));\n\n          break;\n\n        case 'append':\n          _this8.appendArray(change.items.map(_this8.mapper));\n\n          break;\n\n        case 'insert':\n          (_this10 = _this8).insertAt.apply(_this10, [change.index].concat(change.items.map(_this8.mapper)));\n\n          break;\n\n        case 'swap':\n          _this8.swap(change.index, change.index2);\n\n          break;\n\n        case 'replace':\n          _this8.set(change.index, _this8.mapper(change.items[0]));\n\n          break;\n\n        case 'merge':\n          var old = _this8.data.slice();\n\n          var source = change.previousState.slice();\n\n          for (var i = 0; i < change.newState.length; i++) {\n            if (_this8.data.length <= i) {\n              _this8.data.push(_this8.mapper(change.newState[i]));\n            }\n\n            if (source[i] !== change.newState[i]) {\n              var index = source.indexOf(change.newState[i]);\n\n              if (index !== -1) {\n                var a = _this8.data[i];\n                var b = _this8.data[index];\n                _this8.data[i] = b;\n                _this8.data[index] = a;\n                var c = source[i];\n                var d = source[index];\n                source[i] = d;\n                source[index] = c;\n              } else {\n                _this8.data.splice(i, 0, _this8.mapper(change.newState[i]));\n\n                source.splice(i, 0, change.newState[i]);\n              }\n            }\n          }\n\n          if (_this8.data.length > change.newState.length) {\n            _this8.data.length = change.newState.length;\n          }\n\n          _this8.update({\n            operation: 'merge',\n            operationDetailed: 'merge',\n            previousState: old,\n            index: 0,\n            items: _this8.data,\n            newState: _this8.data\n          });\n\n          break;\n      }\n    }, cancellationToken);\n    return _this8;\n  }\n\n  var _proto4 = MappedArrayView.prototype;\n\n  _proto4.refresh = function refresh() {\n    this.merge(this.parent.data.map(this.mapper));\n  };\n\n  return MappedArrayView;\n}(ArrayDataSource);\nvar ReversedArrayView = /*#__PURE__*/function (_ArrayDataSource2) {\n  _inheritsLoose(ReversedArrayView, _ArrayDataSource2);\n\n  function ReversedArrayView(parent, cancellationToken) {\n    var _this11;\n\n    if (cancellationToken === void 0) {\n      cancellationToken = new CancellationToken();\n    }\n\n    var initial = parent.getData().slice().reverse();\n    _this11 = _ArrayDataSource2.call(this, initial) || this;\n    _this11.parent = parent;\n    parent.listen(function (change) {\n      var _this12;\n\n      switch (change.operationDetailed) {\n        case 'removeLeft':\n          _this11.removeRight(change.count);\n\n          break;\n\n        case 'removeRight':\n          _this11.removeLeft(change.count);\n\n          break;\n\n        case 'remove':\n          for (var _iterator3 = _createForOfIteratorHelperLoose(change.items), _step3; !(_step3 = _iterator3()).done;) {\n            var item = _step3.value;\n\n            _this11.remove(item);\n          }\n\n          break;\n\n        case 'clear':\n          _this11.clear();\n\n          break;\n\n        case 'prepend':\n          _this11.appendArray(change.items.reverse());\n\n          break;\n\n        case 'append':\n          (_this12 = _this11).unshift.apply(_this12, change.items.reverse());\n\n          break;\n\n        case 'insert':\n          _this11.merge(change.newState.slice().reverse());\n\n          break;\n\n        case 'merge':\n          _this11.merge(change.items.slice().reverse());\n\n          break;\n\n        case 'swap':\n          _this11.merge(change.newState.slice().reverse());\n\n          break;\n\n        case 'replace':\n          _this11.merge(change.newState.slice().reverse());\n\n          break;\n      }\n    }, cancellationToken);\n    return _this11;\n  }\n\n  var _proto5 = ReversedArrayView.prototype;\n\n  _proto5.refresh = function refresh() {\n    this.merge(this.parent.getData().slice().reverse());\n  };\n\n  return ReversedArrayView;\n}(ArrayDataSource);\nvar SortedArrayView = /*#__PURE__*/function (_ArrayDataSource3) {\n  _inheritsLoose(SortedArrayView, _ArrayDataSource3);\n\n  function SortedArrayView(parent, comparator, cancellationToken) {\n    var _this13;\n\n    if (cancellationToken === void 0) {\n      cancellationToken = new CancellationToken();\n    }\n\n    var initial = parent.getData().slice().sort(comparator);\n    _this13 = _ArrayDataSource3.call(this, initial) || this;\n    _this13.parent = parent;\n    _this13.comparator = comparator;\n    parent.listen(function (change) {\n      var _this14;\n\n      switch (change.operationDetailed) {\n        case 'removeLeft':\n        case 'removeRight':\n        case 'remove':\n          for (var _iterator4 = _createForOfIteratorHelperLoose(change.items), _step4; !(_step4 = _iterator4()).done;) {\n            var item = _step4.value;\n\n            _this13.remove(item);\n          }\n\n          break;\n\n        case 'clear':\n          _this13.clear();\n\n          break;\n\n        case 'prepend':\n          (_this14 = _this13).unshift.apply(_this14, change.items);\n\n          _this13.data.sort(_this13.comparator);\n\n          break;\n\n        case 'append':\n          _this13.appendSorted(change.items);\n\n          break;\n\n        case 'insert':\n          _this13.appendSorted(change.items);\n\n          break;\n\n        case 'merge':\n          _this13.merge(change.items.slice().sort(_this13.comparator));\n\n          break;\n\n        case 'swap':\n          break;\n\n        case 'replace':\n          _this13.remove(change.target);\n\n          _this13.appendSorted(change.items);\n\n          break;\n      }\n    }, cancellationToken);\n    return _this13;\n  }\n\n  var _proto6 = SortedArrayView.prototype;\n\n  _proto6.appendSorted = function appendSorted(items) {\n    this.merge(this.data.concat(items).sort(this.comparator));\n  };\n\n  _proto6.refresh = function refresh() {\n    this.merge(this.parent.getData().slice().sort(this.comparator));\n  };\n\n  return SortedArrayView;\n}(ArrayDataSource);\nvar FilteredArrayView = /*#__PURE__*/function (_ArrayDataSource4) {\n  _inheritsLoose(FilteredArrayView, _ArrayDataSource4);\n\n  function FilteredArrayView(parent, filter, cancellationToken) {\n    var _this15;\n\n    if (cancellationToken === void 0) {\n      cancellationToken = new CancellationToken();\n    }\n\n    if (Array.isArray(parent)) {\n      parent = new ArrayDataSource(parent);\n    }\n\n    filter = filter !== null && filter !== void 0 ? filter : function () {\n      return true;\n    };\n    var initial = parent.data.filter(filter);\n    _this15 = _ArrayDataSource4.call(this, initial) || this;\n    _this15.parent = parent;\n    _this15.viewFilter = filter;\n    parent.listen(function (change) {\n      var _this16, _this17;\n\n      var filteredItems;\n\n      switch (change.operationDetailed) {\n        case 'clear':\n          _this15.clear();\n\n          break;\n\n        case 'removeLeft':\n        case 'removeRight':\n        case 'remove':\n          for (var _iterator5 = _createForOfIteratorHelperLoose(change.items), _step5; !(_step5 = _iterator5()).done;) {\n            var item = _step5.value;\n\n            _this15.remove(item);\n          }\n\n          break;\n\n        case 'prepend':\n          filteredItems = change.items.filter(_this15.viewFilter);\n\n          (_this16 = _this15).unshift.apply(_this16, filteredItems);\n\n          break;\n\n        case 'append':\n          filteredItems = change.items.filter(_this15.viewFilter);\n\n          _this15.appendArray(filteredItems);\n\n          break;\n\n        case 'insert':\n          filteredItems = change.items.filter(_this15.viewFilter);\n\n          (_this17 = _this15).insertAt.apply(_this17, [change.index].concat(filteredItems));\n\n          break;\n\n        case 'merge':\n          _this15.merge(change.items.filter(_this15.viewFilter));\n\n          break;\n\n        case 'swap':\n          var indexA = _this15.data.indexOf(change.items[0]);\n\n          var indexB = _this15.data.indexOf(change.items[1]);\n\n          if (indexA !== -1 && indexB !== -1) {\n            _this15.swap(indexA, indexB);\n          }\n\n          break;\n\n        case 'replace':\n          var index = _this15.data.indexOf(change.target);\n\n          if (index !== -1) {\n            var acceptNew = _this15.viewFilter(change.items[0]);\n\n            if (acceptNew) {\n              _this15.set(index, change.items[0]);\n            } else {\n              _this15.remove(change.target);\n            }\n          }\n\n          break;\n      }\n    }, cancellationToken);\n    return _this15;\n  }\n\n  var _proto7 = FilteredArrayView.prototype;\n\n  _proto7.updateFilter = function updateFilter(filter) {\n    if (this.viewFilter === filter) {\n      return;\n    }\n\n    this.viewFilter = filter;\n    this.refresh();\n    return this.data.length;\n  };\n\n  _proto7.refresh = function refresh() {\n    this.merge(this.parent.data.filter(this.viewFilter));\n  };\n\n  return FilteredArrayView;\n}(ArrayDataSource);\nfunction processTransform(operations, result) {\n  return function (v) {\n    try {\n      var _temp5 = function _temp5(_result3) {\n        if (_exit3) return _result3;\n        result.update(v);\n      };\n\n      var _exit3;\n\n      var _temp6 = _forOf(operations, function (operation) {\n        var _interrupt;\n\n        return _switch(operation.operationType, [[function () {\n          return exports.OperationType.NOOP;\n        }], [function () {\n          return exports.OperationType.MAP;\n        }, function () {\n          v = operation.operation(v);\n          _interrupt = 1;\n        }], [function () {\n          return exports.OperationType.MAP_DELAY_FILTER;\n        }], [function () {\n          return exports.OperationType.DELAY_FILTER;\n        }, function () {\n          return Promise.resolve(operation.operation(v)).then(function (tmp) {\n            var _exit2;\n\n            function _temp2(_result2) {\n              if (_exit2) return _result2;\n              _interrupt = 1;\n            }\n\n            var _temp = function () {\n              if (tmp.cancelled) {\n                _exit3 = 1;\n              } else {\n                return Promise.resolve(tmp.item).then(function (_tmp$item) {\n                  v = _tmp$item;\n                });\n              }\n            }();\n\n            return _temp && _temp.then ? _temp.then(_temp2) : _temp2(_temp);\n          });\n        }], [function () {\n          return exports.OperationType.DELAY;\n        }], [function () {\n          return exports.OperationType.MAP_DELAY;\n        }, function () {\n          return Promise.resolve(operation.operation(v)).then(function (_operation$operation) {\n            v = _operation$operation;\n            _interrupt = 1;\n          });\n        }], [function () {\n          return exports.OperationType.FILTER;\n        }, function () {\n          if (!operation.operation(v)) {\n            _exit3 = 1;\n            return;\n          }\n\n          _interrupt = 1;\n        }]]);\n      }, function () {\n        return _exit3;\n      });\n\n      return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(_temp5) : _temp5(_temp6));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\n(function (DataFlow) {\n  DataFlow[DataFlow[\"UPSTREAM\"] = 0] = \"UPSTREAM\";\n  DataFlow[DataFlow[\"DOWNSTREAM\"] = 1] = \"DOWNSTREAM\";\n})(exports.DataFlow || (exports.DataFlow = {}));\n\nvar DuplexDataSource = /*#__PURE__*/function () {\n  function DuplexDataSource(initialValue, propagateWritesToReadStream, name) {\n    if (propagateWritesToReadStream === void 0) {\n      propagateWritesToReadStream = true;\n    }\n\n    if (name === void 0) {\n      name = 'RootDuplexDataSource';\n    }\n\n    this.name = name;\n    this.value = initialValue;\n    this.primed = initialValue !== undefined;\n    this.updateDownstreamEvent = new EventEmitter();\n    this.updateUpstreamEvent = new EventEmitter();\n    this.propagateWritesToReadStream = propagateWritesToReadStream;\n  }\n\n  DuplexDataSource.fromTwoDataSource = function fromTwoDataSource(downStream, upstream, initialValue, propagateWritesToReadStream) {\n    if (propagateWritesToReadStream === void 0) {\n      propagateWritesToReadStream = true;\n    }\n\n    var result = new DuplexDataSource(initialValue, propagateWritesToReadStream);\n    result.updateDownstreamEvent = downStream.updateEvent;\n    result.updateUpstreamEvent = upstream.updateEvent;\n    return result;\n  };\n\n  var _proto = DuplexDataSource.prototype;\n\n  _proto.withInitial = function withInitial(value) {\n    if (!this.primed) {\n      this.updateDownstream(value);\n    }\n\n    return this;\n  };\n\n  DuplexDataSource.createOneWay = function createOneWay(direction, initialValue) {\n    if (direction === void 0) {\n      direction = exports.DataFlow.DOWNSTREAM;\n    }\n\n    return new DuplexDataSource(initialValue, false).oneWayFlow(direction);\n  };\n\n  _proto.updateDownstream = function updateDownstream(newValue) {\n    if (this.updatingDownstream) {\n      throw new Error('Problem in datas source: Unstable value propagation, when updating a value the stream was updated back as a direct response. This can lead to infinite loops and is therefore not allowed');\n    }\n\n    this.primed = true;\n    this.updatingDownstream = true;\n    this.value = newValue;\n    this.updateDownstreamEvent.fire(newValue);\n    this.updatingDownstream = false;\n  };\n\n  _proto.updateUpstream = function updateUpstream(newValue) {\n    if (this.updatingUpstream) {\n      throw new Error('Problem in datas source: Unstable value propagation, when updating a value the stream was updated back as a direct response. This can lead to infinite loops and is therefore not allowed');\n    }\n\n    this.primed = true;\n    this.updatingUpstream = true;\n    this.value = newValue;\n    this.updateUpstreamEvent.fire(newValue);\n\n    if (this.propagateWritesToReadStream) {\n      this.updateDownstreamEvent.fire(newValue);\n    }\n\n    this.updatingUpstream = false;\n  };\n\n  _proto.listenAndRepeat = function listenAndRepeat(callback, cancellationToken) {\n    callback(this.value);\n    return this.listen(callback, cancellationToken);\n  };\n\n  _proto.listen = function listen(callback, cancellationToken) {\n    return this.updateDownstreamEvent.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.listenUpstream = function listenUpstream(callback, cancellationToken) {\n    return this.updateUpstreamEvent.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.listenUpstreamOnce = function listenUpstreamOnce(callback, cancellationToken) {\n    return this.updateUpstreamEvent.subscribeOnce(callback, cancellationToken).cancel;\n  };\n\n  _proto.listenDownstream = function listenDownstream(callback, cancellationToken) {\n    return this.updateDownstreamEvent.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.downStreamToDataSource = function downStreamToDataSource(cancellationToken) {\n    var downStreamDatasource = new DataSource(this.value);\n    this.listenDownstream(function (newVal) {\n      downStreamDatasource.update(newVal);\n    }, cancellationToken);\n    return downStreamDatasource;\n  };\n\n  _proto.aggregate = function aggregate(otherSource, combinator, cancellationToken) {\n    var _this = this;\n\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var aggregatedSource = new TransientDataSource(cancellationToken, combinator(this.value, otherSource.value));\n    this.listen(function () {\n      return aggregatedSource.update(combinator(_this.value, otherSource.value));\n    }, cancellationToken);\n    otherSource.listen(function () {\n      return aggregatedSource.update(combinator(_this.value, otherSource.value));\n    }, cancellationToken);\n    return aggregatedSource;\n  };\n\n  _proto.aggregateThree = function aggregateThree(second, third, combinator, cancellationToken) {\n    var _this2 = this;\n\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var aggregatedSource = new TransientDataSource(cancellationToken, combinator(this.value, second.value, third.value));\n    this.listen(function () {\n      return aggregatedSource.update(combinator(_this2.value, second.value, third.value));\n    }, cancellationToken);\n    second.listen(function () {\n      return aggregatedSource.update(combinator(_this2.value, second.value, third.value));\n    }, cancellationToken);\n    third.listen(function () {\n      return aggregatedSource.update(combinator(_this2.value, second.value, third.value));\n    }, cancellationToken);\n    return aggregatedSource;\n  };\n\n  _proto.aggregateFour = function aggregateFour(second, third, fourth, combinator, cancellationToken) {\n    var _this3 = this;\n\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var aggregatedSource = new TransientDataSource(cancellationToken, combinator(this.value, second.value, third.value, fourth.value));\n    this.listen(function () {\n      return aggregatedSource.update(combinator(_this3.value, second.value, third.value, fourth.value));\n    }, cancellationToken);\n    second.listen(function () {\n      return aggregatedSource.update(combinator(_this3.value, second.value, third.value, fourth.value));\n    }, cancellationToken);\n    third.listen(function () {\n      return aggregatedSource.update(combinator(_this3.value, second.value, third.value, fourth.value));\n    }, cancellationToken);\n    fourth.listen(function () {\n      return aggregatedSource.update(combinator(_this3.value, second.value, third.value, fourth.value));\n    }, cancellationToken);\n    return aggregatedSource;\n  };\n\n  _proto.filter = function filter(downStreamFilter, upstreamFilter, cancellationToken) {\n    var _this4 = this;\n\n    if (typeof upstreamFilter === 'function') {\n      var filteredSource = new DuplexDataSource(undefined, false);\n      this.listenDownstream(function (newVal) {\n        if (downStreamFilter(newVal, filteredSource.value)) {\n          filteredSource.updateDownstream(newVal);\n        }\n      }, cancellationToken);\n      filteredSource.listenUpstream(function (newVal) {\n        if (upstreamFilter(newVal, _this4.value)) {\n          _this4.updateUpstream(newVal);\n        }\n      }, cancellationToken);\n      return filteredSource;\n    } else {\n      var _filteredSource = new DataSource();\n\n      this.listenDownstream(function (newVal) {\n        if (downStreamFilter(newVal, _filteredSource.value)) {\n          _filteredSource.update(newVal);\n        }\n      }, upstreamFilter);\n      return _filteredSource;\n    }\n  };\n\n  _proto.transform = function transform(operationA, operationB, operationC, operationD, operationE, operationF, operationG, operationH, operationI, operationJ, operationK, cancellationToken) {\n    var token;\n    var operations = [operationA, operationB, operationC, operationD, operationE, operationF, operationG, operationH, operationI, operationJ, operationK].filter(function (e) {\n      return e && (e instanceof CancellationToken ? (token = e, false) : true);\n    });\n\n    if (cancellationToken) {\n      token = cancellationToken;\n    }\n\n    var result = new DataSource(undefined, this.name + ' ' + operations.map(function (v) {\n      return v.name;\n    }).join(' '));\n    (this.primed ? this.listenAndRepeat : this.listen).call(this, processTransform(operations, result), token);\n    return result;\n  };\n\n  _proto.pipe = function pipe(targetDataSource, cancellationToken) {\n    var _this5 = this;\n\n    this.listenDownstream(function (newVal) {\n      return targetDataSource.updateDownstream(newVal);\n    }, cancellationToken);\n    targetDataSource.listenUpstream(function (newVal) {\n      return _this5.updateUpstream(newVal);\n    }, cancellationToken);\n    return this;\n  };\n\n  _proto.map = function map(mapper, reverseMapper, cancellationToken) {\n    var _this6 = this;\n\n    if (typeof reverseMapper === 'function') {\n      var mappedSource;\n\n      if (this.primed) {\n        mappedSource = new DuplexDataSource(mapper(this.value), false);\n      } else {\n        mappedSource = new DuplexDataSource(undefined, false);\n      }\n\n      this.listenDownstream(function (v) {\n        return mappedSource.updateDownstream(mapper(v));\n      }, cancellationToken);\n      mappedSource.listenUpstream(function (v) {\n        return _this6.updateUpstream(reverseMapper(v));\n      }, cancellationToken);\n      return mappedSource;\n    } else {\n      var _mappedSource;\n\n      if (this.primed) {\n        _mappedSource = new DataSource(mapper(this.value));\n      } else {\n        _mappedSource = new DataSource();\n      }\n\n      this.listenDownstream(function (v) {\n        return _mappedSource.update(mapper(v));\n      }, reverseMapper);\n      return _mappedSource;\n    }\n  };\n\n  _proto.listenOnce = function listenOnce(callback, cancellationToken) {\n    return this.updateDownstreamEvent.subscribeOnce(callback, cancellationToken).cancel;\n  };\n\n  _proto.awaitNextUpdate = function awaitNextUpdate(cancellationToken) {\n    var _this7 = this;\n\n    return new Promise(function (resolve) {\n      _this7.listenOnce(function (value) {\n        return resolve(value);\n      }, cancellationToken);\n    });\n  };\n\n  _proto.debounceUpstream = function debounceUpstream(time, cancellationToken) {\n    var _this8 = this;\n\n    var debouncedDataSource = new DuplexDataSource(this.value);\n    var timeout;\n    debouncedDataSource.listenUpstream(function (v) {\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        _this8.updateUpstream(v);\n      }, time);\n    }, cancellationToken);\n    this.listenDownstream(function (v) {\n      debouncedDataSource.updateDownstream(v);\n    }, cancellationToken);\n    return debouncedDataSource;\n  };\n\n  _proto.debounceDownstream = function debounceDownstream(time, cancellationToken) {\n    var _this9 = this;\n\n    var debouncedDataSource = new DuplexDataSource(this.value);\n    var timeout;\n    this.listenDownstream(function (v) {\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        debouncedDataSource.updateDownstream(v);\n      }, time);\n    }, cancellationToken);\n    debouncedDataSource.listenUpstream(function (v) {\n      _this9.updateUpstream(v);\n    }, cancellationToken);\n    return debouncedDataSource;\n  };\n\n  _proto.diff = function diff(cancellationToken) {\n    cancellationToken = cancellationToken !== null && cancellationToken !== void 0 ? cancellationToken : new CancellationToken();\n    var diffingSource = new TransientDataSource(cancellationToken, {\n      \"new\": this.value,\n      old: undefined\n    });\n    this.listen(function (value) {\n      diffingSource.update({\n        \"new\": value,\n        old: diffingSource.value[\"new\"]\n      });\n    }, cancellationToken);\n    return diffingSource;\n  };\n\n  _proto.unique = function unique(cancellationToken) {\n    var _this10 = this;\n\n    var uniqueSource = new DuplexDataSource(this.value, false);\n    var upstreamValue = this.value;\n    var downStreamValue = this.value;\n    this.listenDownstream(function (v) {\n      if (downStreamValue !== v) {\n        downStreamValue = v;\n        uniqueSource.updateDownstream(v);\n      }\n    }, cancellationToken);\n    uniqueSource.listenUpstream(function (v) {\n      if (upstreamValue !== v) {\n        upstreamValue = v;\n\n        _this10.updateUpstream(v);\n      }\n    }, cancellationToken);\n    return uniqueSource;\n  };\n\n  _proto.oneWayFlow = function oneWayFlow(direction, cancellationToken) {\n    var _this11 = this;\n\n    if (direction === void 0) {\n      direction = exports.DataFlow.DOWNSTREAM;\n    }\n\n    var oneWaySource = new DuplexDataSource(this.value, false);\n\n    if (direction === exports.DataFlow.DOWNSTREAM) {\n      this.listenDownstream(function (v) {\n        return oneWaySource.updateDownstream(v);\n      }, cancellationToken);\n\n      oneWaySource.updateUpstream = function () {\n        return void 0;\n      };\n    } else {\n      oneWaySource.listenUpstream(function (v) {\n        return _this11.updateUpstream(v);\n      });\n\n      oneWaySource.updateDownstream = function () {\n        return void 0;\n      };\n    }\n\n    return oneWaySource;\n  };\n\n  _proto.reduce = function reduce(reducer, initialValue, cancellationToken) {\n    var reduceSource = new DataSource(initialValue);\n    this.listen(function (v) {\n      return reduceSource.update(reducer(reduceSource.value, v));\n    }, cancellationToken);\n    return reduceSource;\n  };\n\n  _proto.cancelAll = function cancelAll() {\n    this.updateDownstreamEvent.cancelAll();\n    this.updateUpstreamEvent.cancelAll();\n  };\n\n  return DuplexDataSource;\n}();\n\nfunction aurumClassName(data, cancellationToken) {\n  var result = [];\n\n  var _loop = function _loop(key) {\n    if (data[key]) {\n      if (data[key] instanceof DataSource || data[key] instanceof DuplexDataSource) {\n        var source = data[key];\n        var mappedSource = new DataSource(source.value ? key : '');\n        source.listen(function (value) {\n          mappedSource.update(value ? key : '');\n        }, cancellationToken);\n        result.push(mappedSource);\n      } else {\n        result.push(key);\n      }\n    }\n  };\n\n  for (var key in data) {\n    _loop(key);\n  }\n\n  return result;\n}\n\nfunction createRenderSession() {\n  var session = {\n    attachCalls: [],\n    sessionToken: new CancellationToken(function () {\n      for (var _iterator = _createForOfIteratorHelperLoose(session.tokens), _step; !(_step = _iterator()).done;) {\n        var token = _step.value;\n        token.cancel();\n      }\n    }),\n    tokens: []\n  };\n  return session;\n}\nvar aurumElementModelIdentitiy = Symbol('AurumElementModel');\nvar nodeData = new WeakMap();\nvar AurumElement = /*#__PURE__*/function () {\n  function AurumElement(dataSource, api) {\n    var _this = this;\n\n    this.children = [];\n    this.api = api;\n    this.api.onAttach(function () {\n      if (_this.hostNode === undefined) {\n        throw new Error('illegal state: Attach fired but not actually attached');\n      }\n\n      _this.render(dataSource);\n    });\n  }\n\n  var _proto = AurumElement.prototype;\n\n  _proto.dispose = function dispose() {\n    this.clearContent();\n  };\n\n  _proto.attachToDom = function attachToDom(node, index) {\n    if (this.hostNode) {\n      throw new Error('Aurum Element is already attached');\n    }\n\n    var id = AurumElement.id++;\n    this.hostNode = node;\n    this.contentStartMarker = document.createComment('START Aurum Node ' + id);\n    this.contentEndMarker = document.createComment('END Aurum Node ' + id);\n\n    if (index >= node.childNodes.length) {\n      node.appendChild(this.contentStartMarker);\n      node.appendChild(this.contentEndMarker);\n    } else {\n      node.insertBefore(this.contentStartMarker, node.childNodes[index]);\n      node.insertBefore(this.contentEndMarker, node.childNodes[index + 1]);\n    }\n  };\n\n  _proto.getWorkIndex = function getWorkIndex() {\n    if (this.lastStartIndex !== undefined && this.hostNode.childNodes[this.lastStartIndex] === this.contentStartMarker) {\n      return this.lastStartIndex + 1;\n    }\n\n    for (var i = 0; i < this.hostNode.childNodes.length; i++) {\n      if (this.hostNode.childNodes[i] === this.contentStartMarker) {\n        this.lastStartIndex = i;\n        return i + 1;\n      }\n    }\n  };\n\n  _proto.getLastIndex = function getLastIndex() {\n    if (this.lastEndIndex !== undefined && this.hostNode.childNodes[this.lastEndIndex] === this.contentEndMarker) {\n      return this.lastEndIndex;\n    }\n\n    for (var i = 0; i < this.hostNode.childNodes.length; i++) {\n      if (this.hostNode.childNodes[i] === this.contentEndMarker) {\n        this.lastEndIndex = i;\n        return i;\n      }\n    }\n  };\n\n  _proto.clearContent = function clearContent() {\n    if (this.hostNode === undefined) {\n      throw new Error('illegal state: Aurum element was not attched to anything');\n    }\n\n    var workIndex = this.getWorkIndex();\n\n    while (this.hostNode.childNodes[workIndex] !== this.contentEndMarker) {\n      this.hostNode.removeChild(this.hostNode.childNodes[workIndex]);\n    }\n  };\n\n  _proto.updateDom = function updateDom() {\n    if (this.hostNode === undefined) {\n      throw new Error('illegal state: Aurum element was not attched to anything');\n    }\n\n    var workIndex = this.getWorkIndex();\n    var i;\n    var offset = 0;\n\n    for (i = 0; i < this.children.length; i++) {\n      var child = this.children[i];\n\n      if (child === undefined || child === null) {\n        continue;\n      }\n\n      if (child instanceof AurumElement) {\n        offset += child.getLastIndex() - i - offset - workIndex;\n        continue;\n      }\n\n      if (this.hostNode.childNodes[i + workIndex + offset] !== this.contentEndMarker && this.hostNode.childNodes[i + workIndex + offset] !== this.children[i]) {\n        if (child instanceof HTMLElement || child instanceof Text) {\n          this.hostNode.removeChild(this.hostNode.childNodes[i + workIndex + offset]);\n\n          if (this.hostNode.childNodes[i + workIndex + offset]) {\n            this.hostNode.insertBefore(child, this.hostNode.childNodes[i + workIndex + offset]);\n          } else {\n            this.hostNode.appendChild(child);\n          }\n        } else {\n          throw new Error('not implemented');\n        }\n      } else {\n        if (child instanceof HTMLElement || child instanceof Text) {\n          if (this.hostNode.childNodes[i + workIndex + offset]) {\n            this.hostNode.insertBefore(child, this.hostNode.childNodes[i + workIndex + offset]);\n          } else {\n            this.hostNode.appendChild(child);\n          }\n        } else {\n          throw new Error('not implemented');\n        }\n      }\n    }\n\n    while (this.hostNode.childNodes[i + workIndex + offset] !== this.contentEndMarker) {\n      this.hostNode.removeChild(this.hostNode.childNodes[i + workIndex + offset]);\n    }\n  };\n\n  return AurumElement;\n}();\nAurumElement.id = 1;\nfunction render(element, session, prerendering) {\n  if (prerendering === void 0) {\n    prerendering = false;\n  }\n\n  if (element == undefined) {\n    return undefined;\n  }\n\n  if (pendingSessions.has(element)) {\n    var subSession = pendingSessions.get(element);\n\n    if (subSession.sessionToken) {\n      var _session$attachCalls;\n\n      (_session$attachCalls = session.attachCalls).push.apply(_session$attachCalls, subSession.attachCalls);\n\n      session.sessionToken.chain(subSession.sessionToken);\n      subSession.attachCalls = undefined;\n      subSession.sessionToken = undefined;\n    }\n\n    pendingSessions[\"delete\"](element);\n  }\n\n  if (Array.isArray(element)) {\n    return Array.prototype.concat.apply([], element.map(function (e) {\n      return render(e, session, prerendering);\n    }));\n  }\n\n  if (!prerendering) {\n    if (element instanceof Promise) {\n      var ds = new DataSource();\n      element.then(function (val) {\n        ds.update(val);\n      });\n      var result = new SingularAurumElement(ds, createAPI(session));\n      return result;\n    } else if (element instanceof DataSource || element instanceof DuplexDataSource) {\n      var _result = new SingularAurumElement(element, createAPI(session));\n\n      return _result;\n    } else if (element instanceof ArrayDataSource) {\n      var _result2 = new ArrayAurumElement(element, createAPI(session));\n\n      return _result2;\n    }\n\n    var type = typeof element;\n\n    if (type === 'string' || type === 'number' || type === 'bigint' || type === 'boolean') {\n      return document.createTextNode(element.toString());\n    }\n  }\n\n  if (element[aurumElementModelIdentitiy]) {\n    var model = element;\n    return render(model.factory(model.props || {}, model.children, createAPI(session)), session, prerendering);\n  }\n\n  return element;\n}\nvar pendingSessions = new WeakMap();\nfunction createAPI(session) {\n  var token = undefined;\n  var api = {\n    renderSession: session,\n    onAttach: function onAttach(cb) {\n      session.attachCalls.push(cb);\n    },\n    onDetach: function onDetach(cb) {\n      if (!token) {\n        token = new CancellationToken();\n        session.tokens.push(token);\n      }\n\n      token.addCancelable(cb);\n    },\n    onError: function onError(cb) {\n      throw new Error('not implemented');\n    },\n\n    get cancellationToken() {\n      if (!token) {\n        token = new CancellationToken();\n        session.tokens.push(token);\n      }\n\n      return token;\n    },\n\n    prerender: function prerender(target) {\n      var subSession = createRenderSession();\n      var result = render(target, subSession, true);\n\n      if (Array.isArray(result)) {\n        for (var _iterator2 = _createForOfIteratorHelperLoose(result), _step2; !(_step2 = _iterator2()).done;) {\n          var item = _step2.value;\n\n          if (typeof item === 'object') {\n            pendingSessions.set(item, subSession);\n          }\n        }\n      } else {\n        pendingSessions.set(result, subSession);\n      }\n\n      return result;\n    },\n\n    get style() {\n      return function aurumStyle(fragments) {\n        var input = [].slice.call(arguments, 1);\n        var result = new DataSource();\n\n        for (var _iterator3 = _createForOfIteratorHelperLoose(input), _step3; !(_step3 = _iterator3()).done;) {\n          var ins = _step3.value;\n\n          if (ins instanceof DataSource || ins instanceof DuplexDataSource) {\n            ins.listen(function () {\n              return result.update(recompute(fragments, input));\n            }, api.cancellationToken);\n          }\n        }\n\n        result.update(recompute(fragments, input));\n        return result;\n      };\n    }\n\n  };\n  return api;\n}\n\nfunction recompute(fragments, input) {\n  var result = '';\n\n  for (var i = 0; i < fragments.length; i++) {\n    result += fragments[i];\n\n    if (input[i]) {\n      if (typeof input[i] === 'string') {\n        result += input[i];\n      } else {\n        result += input[i].value;\n      }\n    }\n  }\n\n  return result;\n}\n\nvar ArrayAurumElement = /*#__PURE__*/function (_AurumElement) {\n  _inheritsLoose(ArrayAurumElement, _AurumElement);\n\n  function ArrayAurumElement(dataSource, api) {\n    var _this2;\n\n    _this2 = _AurumElement.call(this, dataSource, api) || this;\n    _this2.renderSessions = new WeakMap();\n    _this2.dataSource = dataSource;\n    return _this2;\n  }\n\n  var _proto2 = ArrayAurumElement.prototype;\n\n  _proto2.attachToDom = function attachToDom(node, index) {\n    _AurumElement.prototype.attachToDom.call(this, node, index);\n\n    this.contentStartMarker.dataSource = this.dataSource;\n    this.contentEndMarker.dataSource = this.dataSource;\n  };\n\n  _proto2.render = function render(dataSource) {\n    var _this3 = this;\n\n    dataSource.listenAndRepeat(function (n) {\n      _this3.handleNewContent(n);\n\n      _this3.updateDom();\n    }, this.api.cancellationToken);\n  };\n\n  _proto2.spliceChildren = function spliceChildren(index, amount, newItems) {\n    var removed;\n\n    if (newItems) {\n      removed = this.children.splice(index, amount, newItems);\n    } else {\n      removed = this.children.splice(index, amount);\n    }\n\n    for (var _iterator4 = _createForOfIteratorHelperLoose(removed), _step4; !(_step4 = _iterator4()).done;) {\n      var item = _step4.value;\n      this.renderSessions.get(item).sessionToken.cancel();\n    }\n  };\n\n  _proto2.handleNewContent = function handleNewContent(change) {\n    switch (change.operationDetailed) {\n      case 'merge':\n        var source = change.previousState.slice();\n\n        for (var i = 0; i < change.newState.length; i++) {\n          if (this.children.length <= i) {\n            this.children.push(this.renderItem(change.newState[i]));\n          }\n\n          if (source[i] !== change.newState[i]) {\n            var _index = source.indexOf(change.newState[i]);\n\n            if (_index !== -1) {\n              var a = this.children[i];\n              var b = this.children[_index];\n              this.children[i] = b;\n              this.children[_index] = a;\n              var c = source[i];\n              var d = source[_index];\n              source[i] = d;\n              source[_index] = c;\n            } else {\n              this.spliceChildren(i, 0, this.renderItem(change.newState[i]));\n              source.splice(i, 0, change.newState[i]);\n            }\n          }\n        }\n\n        if (this.children.length > change.newState.length) {\n          this.children.length = change.newState.length;\n        }\n\n        break;\n\n      case 'remove':\n      case 'removeLeft':\n      case 'removeRight':\n        this.spliceChildren(change.index, change.count);\n        break;\n\n      case 'append':\n        for (var _iterator5 = _createForOfIteratorHelperLoose(change.items), _step5; !(_step5 = _iterator5()).done;) {\n          var item = _step5.value;\n\n          var _rendered = this.renderItem(item);\n\n          if (Array.isArray(_rendered)) {\n            this.children = this.children.concat(_rendered);\n          } else {\n            this.children.push(_rendered);\n          }\n        }\n\n        break;\n\n      case 'replace':\n        var rendered = this.renderItem(change.items[0]);\n\n        if (Array.isArray(rendered)) {\n          throw new Error('illegal state');\n        } else {\n          this.children[change.index] = rendered;\n        }\n\n        break;\n\n      case 'swap':\n        var itemA = this.children[change.index];\n        var itemB = this.children[change.index2];\n        this.children[change.index2] = itemA;\n        this.children[change.index] = itemB;\n        break;\n\n      case 'prepend':\n        for (var _iterator6 = _createForOfIteratorHelperLoose(change.items), _step6; !(_step6 = _iterator6()).done;) {\n          var _item = _step6.value;\n\n          var _rendered2 = this.renderItem(_item);\n\n          if (Array.isArray(_rendered2)) {\n            throw new Error('illegal state');\n          } else {\n            this.children.unshift(_rendered2);\n          }\n        }\n\n        break;\n\n      case 'insert':\n        var index = change.index;\n\n        for (var _iterator7 = _createForOfIteratorHelperLoose(change.items), _step7; !(_step7 = _iterator7()).done;) {\n          var _item2 = _step7.value;\n\n          var _rendered3 = this.renderItem(_item2);\n\n          if (Array.isArray(_rendered3)) {\n            throw new Error('illegal state');\n          } else {\n            this.children.splice(index, 0, _rendered3);\n            index += 1;\n          }\n        }\n\n        break;\n\n      case 'remove':\n        for (var _iterator8 = _createForOfIteratorHelperLoose(change.items), _step8; !(_step8 = _iterator8()).done;) {\n          var _item3 = _step8.value;\n\n          var _rendered4 = this.renderItem(_item3);\n\n          if (Array.isArray(_rendered4)) {\n            throw new Error('illegal state');\n          } else {\n            this.children.unshift(_rendered4);\n          }\n        }\n\n        break;\n\n      case 'clear':\n        this.children.length = 0;\n        this.renderSessions = new WeakMap();\n        break;\n\n      default:\n        throw new Error('not implemented');\n    }\n\n    this.updateDom();\n  };\n\n  _proto2.renderItem = function renderItem(item) {\n    var s = createRenderSession();\n    var rendered = render(item, s);\n\n    for (var _iterator9 = _createForOfIteratorHelperLoose(s.attachCalls), _step9; !(_step9 = _iterator9()).done;) {\n      var cb = _step9.value;\n      cb();\n    }\n\n    this.renderSessions.set(rendered, s);\n    return rendered;\n  };\n\n  return ArrayAurumElement;\n}(AurumElement);\nvar SingularAurumElement = /*#__PURE__*/function (_AurumElement2) {\n  _inheritsLoose(SingularAurumElement, _AurumElement2);\n\n  function SingularAurumElement(dataSource, api) {\n    var _this4;\n\n    _this4 = _AurumElement2.call(this, dataSource, api) || this;\n\n    _this4.api.cancellationToken.addCancelable(function () {\n      var _a;\n\n      return (_a = _this4.renderSession) === null || _a === void 0 ? void 0 : _a.sessionToken.cancel();\n    });\n\n    _this4.dataSource = dataSource;\n    return _this4;\n  }\n\n  var _proto3 = SingularAurumElement.prototype;\n\n  _proto3.attachToDom = function attachToDom(node, index) {\n    _AurumElement2.prototype.attachToDom.call(this, node, index);\n\n    this.contentStartMarker.dataSource = this.dataSource;\n    this.contentEndMarker.dataSource = this.dataSource;\n  };\n\n  _proto3.render = function render(dataSource) {\n    var _this5 = this;\n\n    dataSource.listenAndRepeat(function (n) {\n      _this5.handleNewContent(n);\n\n      _this5.updateDom();\n    }, this.api.cancellationToken);\n  };\n\n  _proto3.handleNewContent = function handleNewContent(newValue) {\n    if (this.lastValue === newValue) {\n      return;\n    }\n\n    var optimized = false;\n\n    if (this.children.length === 1 && this.children[0] instanceof Text) {\n      var type = typeof newValue;\n\n      if (type === 'string' || type === 'bigint' || type === 'number') {\n        this.children[0].nodeValue = newValue;\n        optimized = true;\n      }\n    }\n\n    if (!optimized) {\n      this.fullRebuild(newValue);\n    }\n\n    this.lastValue = newValue;\n  };\n\n  _proto3.fullRebuild = function fullRebuild(newValue) {\n    this.clearContent();\n    this.endSession();\n    this.renderSession = createRenderSession();\n    var rendered = render(newValue, this.renderSession);\n\n    if (rendered === undefined) {\n      this.children = [];\n      return;\n    }\n\n    if (!Array.isArray(rendered)) {\n      rendered = [rendered];\n    }\n\n    for (var _iterator10 = _createForOfIteratorHelperLoose(rendered), _step10; !(_step10 = _iterator10()).done;) {\n      var item = _step10.value;\n\n      if (item instanceof AurumElement) {\n        item.attachToDom(this.hostNode, this.getLastIndex());\n      }\n    }\n\n    for (var _iterator11 = _createForOfIteratorHelperLoose(this.renderSession.attachCalls), _step11; !(_step11 = _iterator11()).done;) {\n      var cb = _step11.value;\n      cb();\n    }\n\n    if (Array.isArray(rendered)) {\n      this.children = rendered;\n    }\n  };\n\n  _proto3.endSession = function endSession() {\n    if (this.renderSession) {\n      this.renderSession.sessionToken.cancel();\n      this.renderSession = undefined;\n    }\n  };\n\n  return SingularAurumElement;\n}(AurumElement);\n\nvar defaultEvents = {\n  drag: 'onDrag',\n  dragstart: 'onDragStart',\n  dragend: 'onDragEnd',\n  dragexit: 'onDragExit',\n  dragover: 'onDragOver',\n  dragenter: 'onDragEnter',\n  dragleave: 'onDragLeave',\n  blur: 'onBlur',\n  focus: 'onFocus',\n  click: 'onClick',\n  dblclick: 'onDblClick',\n  keydown: 'onKeyDown',\n  keyhit: 'onKeyHit',\n  keyup: 'onKeyUp',\n  mousedown: 'onMouseDown',\n  mouseup: 'onMouseUp',\n  mousemove: 'onMouseMove',\n  mouseenter: 'onMouseEnter',\n  mouseleave: 'onMouseLeave',\n  mousewheel: 'onMouseWheel',\n  load: 'onLoad',\n  error: 'onError'\n};\nvar defaultAttributes = ['id', 'name', 'draggable', 'tabindex', 'style', 'role', 'contentEditable', 'slot', 'title'];\nfunction DomNodeCreator(nodeName, extraAttributes, extraEvents, extraLogic) {\n  return function (props, children, api) {\n    var node = document.createElement(nodeName);\n\n    if (props) {\n      processHTMLNode(node, props, api.cancellationToken, extraAttributes, extraEvents);\n    }\n\n    var renderedChildren = render(children, api.renderSession);\n    connectChildren(node, renderedChildren);\n\n    if (props.onAttach) {\n      api.onAttach(function () {\n        return props.onAttach(node);\n      });\n    }\n\n    if (props.onDetach) {\n      api.onDetach(function () {\n        if (node.isConnected) {\n          node.parentElement.removeChild(node);\n        }\n\n        props.onDetach(node);\n      });\n    }\n\n    extraLogic === null || extraLogic === void 0 ? void 0 : extraLogic(node, props, api.cancellationToken);\n    return node;\n  };\n}\n\nfunction connectChildren(target, children) {\n  if (children === undefined || children === null) {\n    return;\n  }\n\n  if (Array.isArray(children)) {\n    for (var _iterator = _createForOfIteratorHelperLoose(children), _step; !(_step = _iterator()).done;) {\n      var child = _step.value;\n      connectChildren(target, child);\n    }\n\n    return;\n  }\n\n  if (children instanceof AurumElement) {\n    children.attachToDom(target, target.childNodes.length);\n  } else if (children instanceof HTMLElement || children instanceof Text) {\n    target.appendChild(children);\n  } else {\n    throw new Error(\"Unexpected child type passed to DOM Node: \" + children);\n  }\n}\n\nfunction processHTMLNode(node, props, cleanUp, extraAttributes, extraEvents) {\n  createEventHandlers(node, defaultEvents, props);\n\n  if (extraEvents) {\n    createEventHandlers(node, extraEvents, props);\n  }\n\n  var dataProps = Object.keys(props).filter(function (e) {\n    return e.includes('-');\n  });\n  bindProps(node, defaultAttributes, props, dataProps);\n\n  if (extraAttributes) {\n    bindProps(node, extraAttributes, props);\n  }\n\n  if (props[\"class\"]) {\n    handleClass(node, props[\"class\"], cleanUp);\n  }\n}\nfunction createEventHandlers(node, events, props) {\n  var _loop = function _loop(key) {\n    if (props[events[key]]) {\n      if (props[events[key]] instanceof DataSource) {\n        node.addEventListener(key, function (e) {\n          return props[events[key]].update(e);\n        });\n      } else if (props[events[key]] instanceof DuplexDataSource) {\n        node.addEventListener(key, function (e) {\n          return props[events[key]].updateDownstream(e);\n        });\n      } else if (typeof props[events[key]] === 'function') {\n        node.addEventListener(key, function (e) {\n          return props[events[key]](e);\n        });\n      }\n    }\n  };\n\n  for (var key in events) {\n    _loop(key);\n  }\n}\n\nfunction bindProps(node, keys, props, dynamicProps) {\n  for (var _iterator2 = _createForOfIteratorHelperLoose(keys), _step2; !(_step2 = _iterator2()).done;) {\n    var _key = _step2.value;\n\n    if (props[_key]) {\n      assignStringSourceToAttribute(node, props[_key], _key);\n    }\n  }\n\n  if (dynamicProps) {\n    for (var _iterator3 = _createForOfIteratorHelperLoose(dynamicProps), _step3; !(_step3 = _iterator3()).done;) {\n      var key = _step3.value;\n\n      if (props[key]) {\n        assignStringSourceToAttribute(node, props[key], key);\n      }\n    }\n  }\n}\n\nfunction assignStringSourceToAttribute(node, data, key) {\n  if (typeof data === 'string') {\n    node.setAttribute(key, data);\n  } else if (typeof data === 'boolean') {\n    if (data) {\n      node.setAttribute(key, '');\n    }\n  } else if (data instanceof DataSource || data instanceof DuplexDataSource) {\n    if (typeof data.value === 'string') {\n      node.setAttribute(key, data.value);\n    } else if (typeof data.value === 'boolean') {\n      if (data.value) {\n        node.setAttribute(key, '');\n      }\n    }\n\n    data.unique().listen(function (v) {\n      if (typeof v === 'string') {\n        node.setAttribute(key, v);\n      } else if (typeof v === 'boolean') {\n        if (v) {\n          node.setAttribute(key, '');\n        } else {\n          node.removeAttribute(key);\n        }\n      }\n    });\n  } else {\n    throw new Error('Attributes only support types boolean, string, number and data sources');\n  }\n}\n\nfunction handleClass(node, data, cleanUp) {\n  if (typeof data === 'string') {\n    node.className = data;\n  } else if (data instanceof DataSource || data instanceof DuplexDataSource) {\n    if (data.value) {\n      if (Array.isArray(data.value)) {\n        node.className = data.value.join(' ');\n        data.unique(cleanUp).listen(function () {\n          node.className = data.value.join(' ');\n        });\n      } else {\n        node.className = data.value;\n        data.unique(cleanUp).listen(function () {\n          node.className = data.value;\n        });\n      }\n    }\n\n    data.unique(cleanUp).listen(function (v) {\n      return node.className = v;\n    });\n  } else {\n    var value = data.reduce(function (p, c) {\n      if (typeof c === 'string') {\n        return p + \" \" + c;\n      } else {\n        if (c.value) {\n          return p + \" \" + c.value;\n        } else {\n          return p;\n        }\n      }\n    }, '');\n    node.className = value;\n\n    for (var _iterator4 = _createForOfIteratorHelperLoose(data), _step4; !(_step4 = _iterator4()).done;) {\n      var i = _step4.value;\n\n      if (i instanceof DataSource) {\n        i.unique(cleanUp).listen(function (v) {\n          var value = data.reduce(function (p, c) {\n            if (typeof c === 'string') {\n              return p + \" \" + c;\n            } else {\n              if (c.value) {\n                return p + \" \" + c.value;\n              } else {\n                return p;\n              }\n            }\n          }, '');\n          node.className = value;\n        });\n      }\n    }\n  }\n}\n\nvar inputEvents = {\n  input: 'onInput',\n  change: 'onChange'\n};\nvar inputProps = ['placeholder', 'readonly', 'disabled', 'accept', 'alt', 'autocomplete', 'autofocus', 'checked', 'defaultChecked', 'formAction', 'formEnctype', 'formMethod', 'formNoValidate', 'formTarget', 'max', 'maxLength', 'min', 'minLength', 'pattern', 'multiple', 'required', 'type'];\nvar Input = DomNodeCreator('input', inputProps, inputEvents, function (node, props, cleanUp) {\n  var input = node;\n\n  if (props.value) {\n    if (props.value instanceof DataSource) {\n      props.value.listenAndRepeat(function (v) {\n        input.value = v;\n      }, cleanUp);\n      input.addEventListener('input', function () {\n        props.value.update(input.value);\n      });\n    } else if (props.value instanceof DuplexDataSource) {\n      props.value.listenAndRepeat(function (v) {\n        input.value = v;\n      }, cleanUp);\n      input.addEventListener('input', function () {\n        props.value.updateUpstream(input.value);\n      });\n    } else {\n      input.value = props.value;\n    }\n  }\n\n  if (props.checked) {\n    if (props.checked instanceof DataSource) {\n      props.checked.listenAndRepeat(function (v) {\n        input.checked = v;\n      }, cleanUp);\n      input.addEventListener('change', function () {\n        props.checked.update(input.checked);\n      });\n    } else if (props.checked instanceof DuplexDataSource) {\n      props.checked.listenAndRepeat(function (v) {\n        input.checked = v;\n      }, cleanUp);\n      input.addEventListener('change', function () {\n        props.checked.updateUpstream(input.checked);\n      });\n    } else {\n      input.checked = props.checked;\n    }\n  }\n});\n\nvar selectEvents = {\n  change: 'onChange'\n};\nvar Select = DomNodeCreator('select', undefined, selectEvents, function (node, props, cleanUp) {\n  var select = node;\n\n  if (props.value) {\n    if (props.value instanceof DataSource) {\n      props.value.listenAndRepeat(function (v) {\n        select.value = v;\n      }, cleanUp);\n      select.addEventListener('change', function () {\n        props.value.update(select.value);\n      });\n    } else if (props.value instanceof DuplexDataSource) {\n      props.value.listenAndRepeat(function (v) {\n        select.value = v;\n      }, cleanUp);\n      select.addEventListener('change', function () {\n        props.value.updateUpstream(select.value);\n      });\n    } else {\n      select.value = props.value;\n    }\n  }\n\n  if (props.selectedIndex) {\n    if (props.selectedIndex instanceof DataSource) {\n      props.selectedIndex.listenAndRepeat(function (v) {\n        select.selectedIndex = v;\n      }, cleanUp);\n      select.addEventListener('change', function () {\n        props.selectedIndex.update(select.selectedIndex);\n      });\n    } else if (props.selectedIndex instanceof DuplexDataSource) {\n      props.selectedIndex.listenAndRepeat(function (v) {\n        select.selectedIndex = v;\n      }, cleanUp);\n      select.addEventListener('change', function () {\n        props.selectedIndex.updateUpstream(select.selectedIndex);\n      });\n    } else {\n      select.selectedIndex = props.selectedIndex;\n    }\n  }\n});\n\nvar Code = DomNodeCreator('code');\nvar Div = DomNodeCreator('div');\nvar A = DomNodeCreator('a', ['href', 'target']);\nvar Abbr = DomNodeCreator('abbr');\nvar H1 = DomNodeCreator('h1');\nvar H2 = DomNodeCreator('h2');\nvar H3 = DomNodeCreator('h3');\nvar H4 = DomNodeCreator('h4');\nvar H5 = DomNodeCreator('h5');\nvar H6 = DomNodeCreator('h6');\nvar Area = DomNodeCreator('area', ['alt', 'coors']);\nvar Article = DomNodeCreator('article');\nvar Aside = DomNodeCreator('aside');\nvar Span = DomNodeCreator('span');\nvar NoScript = DomNodeCreator('noscript');\nvar Video = DomNodeCreator('video', ['controls', 'autoplay', 'loop', 'muted', 'preload', 'src', 'poster', 'width', 'height']);\nvar Ul = DomNodeCreator('ul');\nvar Ol = DomNodeCreator('ol');\nvar Li = DomNodeCreator('li');\nvar Tr = DomNodeCreator('tr');\nvar B = DomNodeCreator('b');\nvar Title = DomNodeCreator('title');\nvar Summary = DomNodeCreator('summary');\nvar THead = DomNodeCreator('thead');\nvar Template = DomNodeCreator('template');\nvar Q = DomNodeCreator('q');\nvar Pre = DomNodeCreator('pre');\nvar P = DomNodeCreator('p');\nvar Hr = DomNodeCreator('hr');\nvar Audio = DomNodeCreator('audio', ['controls', 'autoplay', 'loop', 'muted', 'preload', 'src']);\nvar Br = DomNodeCreator('br');\nvar Button = DomNodeCreator('button', ['disabled']);\nvar Canvas = DomNodeCreator('canvas', ['width', 'height']);\nvar Data = DomNodeCreator('data', ['value']);\nvar Details = DomNodeCreator('details');\nvar Em = DomNodeCreator('em');\nvar Footer = DomNodeCreator('footer');\nvar Form = DomNodeCreator('form');\nvar Head = DomNodeCreator('head');\nvar Header = DomNodeCreator('header');\nvar Heading = DomNodeCreator('heading');\nvar I = DomNodeCreator('i');\nvar IFrame = DomNodeCreator('iframe', ['src', 'srcdoc', 'width', 'height', 'allow', 'allowFullscreen', 'allowPaymentRequest']);\nvar Img = DomNodeCreator('img', ['src', 'alt', 'width', 'height', 'referrerPolicy', 'sizes', 'srcset', 'useMap']);\nvar Label = DomNodeCreator('label', ['for']);\nvar Link = DomNodeCreator('link', ['href', 'rel', 'media', 'as', 'disabled', 'type']);\nvar Nav = DomNodeCreator('nav');\nvar Sub = DomNodeCreator('sub');\nvar Sup = DomNodeCreator('sup');\nvar Table = DomNodeCreator('table');\nvar TBody = DomNodeCreator('tbody');\nvar TFoot = DomNodeCreator('tfoot');\nvar Td = DomNodeCreator('td');\nvar Th = DomNodeCreator('th');\nvar Time = DomNodeCreator('time', ['datetime']);\nvar Style = DomNodeCreator('style', ['media']);\nvar Source = DomNodeCreator('source', ['src', 'srcSet', 'media', 'sizes', 'type']);\nvar Script = DomNodeCreator('script', ['src', 'async', 'defer', 'integrity', 'noModule', 'type']);\nvar Svg = DomNodeCreator('svg', ['width', 'height']);\nvar Progress = DomNodeCreator('progress', ['max', 'value']);\nvar Option = DomNodeCreator('option', ['value']);\nvar Slot = DomNodeCreator('slot', ['name']);\n\nvar textAreaEvents = {\n  input: 'onInput',\n  change: 'onChange'\n};\nvar textAreaProps = ['placeholder', 'readonly', 'disabled', 'rows', 'wrap', 'autocomplete', 'autofocus', 'max', 'maxLength', 'min', 'minLength', 'required', 'type'];\nvar TextArea = DomNodeCreator('textArea', textAreaProps, textAreaEvents, function (node, props, cleanUp) {\n  var textArea = node;\n\n  if (props.value) {\n    if (props.value instanceof DataSource) {\n      props.value.listenAndRepeat(function (v) {\n        textArea.value = v;\n      }, cleanUp);\n      textArea.addEventListener('input', function () {\n        props.value.update(textArea.value);\n      });\n    } else if (props.value instanceof DuplexDataSource) {\n      props.value.listenAndRepeat(function (v) {\n        textArea.value = v;\n      }, cleanUp);\n      textArea.addEventListener('input', function () {\n        props.value.updateUpstream(textArea.value);\n      });\n    } else {\n      textArea.value = props.value;\n    }\n  }\n});\n\nvar nodeMap = {\n  button: Button,\n  code: Code,\n  hr: Hr,\n  div: Div,\n  input: Input,\n  li: Li,\n  span: Span,\n  style: Style,\n  ul: Ul,\n  p: P,\n  img: Img,\n  link: Link,\n  canvas: Canvas,\n  a: A,\n  article: Article,\n  br: Br,\n  form: Form,\n  label: Label,\n  ol: Ol,\n  pre: Pre,\n  progress: Progress,\n  table: Table,\n  td: Td,\n  tr: Tr,\n  th: Th,\n  textarea: TextArea,\n  h1: H1,\n  h2: H2,\n  h3: H3,\n  h4: H4,\n  h5: H5,\n  h6: H6,\n  head: Head,\n  header: Header,\n  footer: Footer,\n  nav: Nav,\n  b: B,\n  i: I,\n  script: Script,\n  abbr: Abbr,\n  area: Area,\n  aside: Aside,\n  audio: Audio,\n  em: Em,\n  heading: Heading,\n  iframe: IFrame,\n  noscript: NoScript,\n  option: Option,\n  q: Q,\n  select: Select,\n  source: Source,\n  title: Title,\n  video: Video,\n  tbody: TBody,\n  tfoot: TFoot,\n  thead: THead,\n  summary: Summary,\n  details: Details,\n  sub: Sub,\n  sup: Sup,\n  svg: Svg,\n  data: Data,\n  time: Time,\n  template: Template,\n  slot: Slot\n};\nvar Aurum = /*#__PURE__*/function () {\n  function Aurum() {}\n\n  Aurum.attach = function attach(aurumRenderable, dom) {\n    var session = createRenderSession();\n    var content = render(aurumRenderable, session);\n\n    if (content instanceof AurumElement) {\n      content.attachToDom(dom, dom.childNodes.length);\n      session.sessionToken.addCancelable(function () {\n        return content.dispose();\n      });\n    } else if (Array.isArray(content)) {\n      var root = new ArrayAurumElement(new ArrayDataSource(content), createAPI(session));\n      session.sessionToken.addCancelable(function () {\n        return root.dispose();\n      });\n      root.attachToDom(dom, dom.childNodes.length);\n    } else {\n      dom.appendChild(content);\n      session.sessionToken.addCancelable(function () {\n        dom.removeChild(content);\n      });\n    }\n\n    for (var i = session.attachCalls.length - 1; i >= 0; i--) {\n      session.attachCalls[i]();\n    }\n\n    return session.sessionToken;\n  };\n\n  Aurum.factory = function factory(node, args) {\n    var _ref;\n\n    var name;\n\n    if (typeof node === 'string') {\n      name = node;\n      var type = node;\n      node = nodeMap[node];\n\n      if (node === undefined) {\n        throw new Error(\"Node \" + type + \" does not exist or is not supported\");\n      }\n    }\n\n    return _ref = {}, _ref[aurumElementModelIdentitiy] = true, _ref.name = name, _ref.factory = node, _ref.props = args, _ref.children = [].slice.call(arguments, 2), _ref;\n  };\n\n  return Aurum;\n}();\n\nfunction Webcomponent(config, logic) {\n  customElements.define(config.name, /*#__PURE__*/function (_HTMLElement) {\n    _inheritsLoose(_class, _HTMLElement);\n\n    function _class() {\n      var _this;\n\n      _this = _HTMLElement.call(this) || this;\n\n      if (config.observedAttributes === undefined) {\n        config.observedAttributes = [];\n      }\n\n      _this.props = {};\n\n      for (var _iterator = _createForOfIteratorHelperLoose(config.observedAttributes), _step; !(_step = _iterator()).done;) {\n        var attr = _step.value;\n        _this.props[attr] = new DataSource();\n      }\n\n      return _this;\n    }\n\n    var _proto = _class.prototype;\n\n    _proto.attributeChangedCallback = function attributeChangedCallback(name, oldValue, newValue) {\n      if (oldValue !== newValue) {\n        this.props[name].update(newValue);\n      }\n    };\n\n    _proto.connectedCallback = function connectedCallback() {\n      var _a;\n\n      var template = document.createDocumentFragment();\n      this.session = createRenderSession();\n      this.api = createAPI(this.session);\n      var content = logic(this.props, this.api);\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(this.session.attachCalls), _step2; !(_step2 = _iterator2()).done;) {\n        var cb = _step2.value;\n        cb();\n      }\n\n      Aurum.attach(content, template);\n      this.attachShadow({\n        mode: (_a = config.shadowRootMode) !== null && _a !== void 0 ? _a : 'open',\n        delegatesFocus: config.shadowRootDelegatesFocus\n      }).appendChild(template);\n    };\n\n    _proto.disconnectedCallback = function disconnectedCallback() {\n      this.session.sessionToken.cancel();\n    };\n\n    _createClass(_class, null, [{\n      key: \"observedAttributes\",\n      get: function get() {\n        return config.observedAttributes;\n      }\n    }]);\n\n    return _class;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n  return DomNodeCreator(config.name, config.observedAttributes, undefined, function (node, props) {\n    for (var key in props) {\n      if (!(key in node.props)) {\n        node.props[key] = props[key];\n      }\n    }\n  });\n}\n\nfunction AurumRouter(props, children, api) {\n  children = [].concat.apply([], children.filter(function (c) {\n    return !!c;\n  }));\n\n  if (children.some(function (c) {\n    return !c[aurumElementModelIdentitiy] || !(c.factory === Route || c.factory === DefaultRoute);\n  })) {\n    throw new Error('Aurum Router only accepts Route and DefaultRoute instances as children');\n  }\n\n  if (children.filter(function (c) {\n    return c.factory === DefaultRoute;\n  }).length > 1) {\n    throw new Error('Too many default routes only 0 or 1 allowed');\n  }\n\n  var urlDataSource = new DataSource(getUrlPath());\n  api.cancellationToken.registerDomEvent(window, 'hashchange', function () {\n    urlDataSource.update(getUrlPath());\n  });\n  return urlDataSource.unique(api.cancellationToken).withInitial(urlDataSource.value).map(function (p) {\n    return selectRoute(p, children);\n  });\n}\n\nfunction getUrlPath() {\n  var hash = location.hash.substring(1);\n\n  if (hash.includes('?')) {\n    return hash.substring(0, hash.indexOf('?'));\n  } else if (hash.includes('#')) {\n    return hash.substring(0, hash.indexOf('#'));\n  } else {\n    return hash;\n  }\n}\n\nfunction selectRoute(url, routes) {\n  var _a, _b;\n\n  if (url === undefined || url === null) {\n    return (_a = routes.find(function (r) {\n      return r.factory === DefaultRoute;\n    })) === null || _a === void 0 ? void 0 : _a.children;\n  } else {\n    if (routes.find(function (r) {\n      var _a;\n\n      return ((_a = r.props) === null || _a === void 0 ? void 0 : _a.href) === url;\n    })) {\n      return routes.find(function (r) {\n        var _a;\n\n        return ((_a = r.props) === null || _a === void 0 ? void 0 : _a.href) === url;\n      }).children;\n    } else {\n      var segments = url.split('/');\n      segments.pop();\n\n      var _loop = function _loop() {\n        var path = segments.join('/');\n\n        if (routes.find(function (r) {\n          var _a;\n\n          return ((_a = r.props) === null || _a === void 0 ? void 0 : _a.href) === path;\n        })) {\n          return {\n            v: routes.find(function (r) {\n              var _a;\n\n              return ((_a = r.props) === null || _a === void 0 ? void 0 : _a.href) === path;\n            }).children\n          };\n        }\n\n        segments.pop();\n      };\n\n      while (segments.length) {\n        var _ret = _loop();\n\n        if (typeof _ret === \"object\") return _ret.v;\n      }\n\n      return (_b = routes.find(function (r) {\n        return r.factory === DefaultRoute;\n      })) === null || _b === void 0 ? void 0 : _b.children;\n    }\n  }\n}\n\nfunction Route(props, children) {\n  return undefined;\n}\nfunction DefaultRoute(props, children) {\n  return undefined;\n}\n\nfunction Suspense(props, children, api) {\n  var data = new DataSource(props === null || props === void 0 ? void 0 : props.fallback);\n  var cleanUp = new CancellationToken();\n  api.onDetach(function () {\n    cleanUp.cancel();\n  });\n  Promise.all(api.prerender(children, cleanUp)).then(function (res) {\n    if (!cleanUp.isCanceled) {\n      data.update(res);\n    }\n  }, function (e) {\n    cleanUp.cancel();\n    return Promise.reject(e);\n  });\n  return data;\n}\n\nvar Stream = /*#__PURE__*/function () {\n  function Stream(inputSource, outputSource) {\n    this.input = inputSource !== null && inputSource !== void 0 ? inputSource : new DataSource();\n    this.output = outputSource !== null && outputSource !== void 0 ? outputSource : this.input;\n  }\n\n  Stream.fromFetchRaw = function fromFetchRaw(url) {\n    var input = new DataSource();\n    var output = new DataSource();\n    input.listen(function (value) {\n      output.update(fetch(url, value));\n    });\n    return new Stream(input, output);\n  };\n\n  Stream.fromFetchPostJson = function fromFetchPostJson(url, baseRequestData) {\n    var input = new DataSource();\n    var output = new DataSource();\n    input.listen(function (value) {\n      try {\n        var _update2 = output.update;\n        return Promise.resolve(fetch(url, Object.assign({\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }, baseRequestData, {\n          body: JSON.stringify(value)\n        })).then(function (s) {\n          return s.json();\n        })).then(function (_fetch$then) {\n          _update2.call(output, _fetch$then);\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    });\n    return new Stream(input, output);\n  };\n\n  Stream.fromFetchGetJson = function fromFetchGetJson(url, baseRequestData) {\n    var input = new DataSource();\n    var output = new DataSource();\n    input.listen(function () {\n      try {\n        var _update4 = output.update;\n        return Promise.resolve(fetch(url).then(function (s) {\n          return s.json();\n        })).then(function (_fetch$then2) {\n          _update4.call(output, _fetch$then2);\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    });\n    return new Stream(input, output);\n  };\n\n  var _proto = Stream.prototype;\n\n  _proto.update = function update(data) {\n    this.input.update(data);\n  };\n\n  _proto.transform = function transform(operationA, operationB, operationC, operationD, operationE, operationF, operationG, operationH, operationI, operationJ, operationK, cancellationToken) {\n    var token;\n    var operations = [operationA, operationB, operationC, operationD, operationE, operationF, operationG, operationH, operationI, operationJ, operationK].filter(function (e) {\n      return e && (e instanceof CancellationToken ? (token = e, false) : true);\n    });\n\n    if (cancellationToken) {\n      token = cancellationToken;\n    }\n\n    var result = new DataSource(undefined, this.output.name + ' ' + operations.map(function (v) {\n      return v.name;\n    }).join(' '));\n    this.listen(processTransform(operations, result), token);\n    return new Stream(this.input, result);\n  };\n\n  _proto.getOutput = function getOutput() {\n    return this.output;\n  };\n\n  _proto.listen = function listen(callback, cancellationToken) {\n    return this.output.listen(callback, cancellationToken);\n  };\n\n  _proto.listenAndRepeat = function listenAndRepeat(callback, cancellationToken) {\n    return this.output.listenAndRepeat(callback, cancellationToken);\n  };\n\n  _proto.listenOnce = function listenOnce(callback, cancellationToken) {\n    return this.output.listenOnce(callback, cancellationToken);\n  };\n\n  _proto.awaitNextUpdate = function awaitNextUpdate(cancellationToken) {\n    return this.output.awaitNextUpdate(cancellationToken);\n  };\n\n  _proto.cancelAll = function cancelAll() {\n    this.input.cancelAll();\n    this.output.cancelAll();\n  };\n\n  _createClass(Stream, [{\n    key: \"name\",\n    get: function get() {\n      return \"IN:\" + this.input.name + \" OUT:\" + this.output.name;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.output.value;\n    }\n  }]);\n\n  return Stream;\n}();\n\nfunction dsMap(mapper) {\n  return {\n    name: 'map',\n    operationType: exports.OperationType.MAP,\n    operation: function operation(v) {\n      return mapper(v);\n    }\n  };\n}\nfunction dsMapAsync(mapper) {\n  return {\n    name: 'mapAsync',\n    operationType: exports.OperationType.MAP_DELAY,\n    operation: function operation(v) {\n      return mapper(v);\n    }\n  };\n}\nfunction dsDiff() {\n  var lastValue = undefined;\n  return {\n    name: 'diff',\n    operationType: exports.OperationType.MAP,\n    operation: function operation(v) {\n      var result = {\n        oldValue: lastValue,\n        newValue: v\n      };\n      lastValue = v;\n      return result;\n    }\n  };\n}\nfunction dsFilter(predicate) {\n  return {\n    name: 'filter',\n    operationType: exports.OperationType.FILTER,\n    operation: function operation(v) {\n      return predicate(v);\n    }\n  };\n}\nfunction dsFilterAsync(predicate) {\n  return {\n    name: 'filterAsync',\n    operationType: exports.OperationType.DELAY_FILTER,\n    operation: function operation(v) {\n      return predicate(v);\n    }\n  };\n}\nfunction dsEven() {\n  return {\n    name: 'even',\n    operationType: exports.OperationType.FILTER,\n    operation: function operation(v) {\n      return v % 2 === 0;\n    }\n  };\n}\nfunction dsOdd() {\n  return {\n    name: 'odd',\n    operationType: exports.OperationType.FILTER,\n    operation: function operation(v) {\n      return v % 2 !== 0;\n    }\n  };\n}\nfunction dsMin() {\n  var last = Number.MAX_SAFE_INTEGER;\n  return {\n    name: 'min',\n    operationType: exports.OperationType.FILTER,\n    operation: function operation(v) {\n      if (v < last) {\n        last = v;\n        return true;\n      } else {\n        return false;\n      }\n    }\n  };\n}\nfunction dsMax() {\n  var last = Number.MIN_SAFE_INTEGER;\n  return {\n    name: 'max',\n    operationType: exports.OperationType.FILTER,\n    operation: function operation(v) {\n      if (v > last) {\n        last = v;\n        return true;\n      } else {\n        return false;\n      }\n    }\n  };\n}\nfunction dsSkipDynamic(amountLeft) {\n  return {\n    operationType: exports.OperationType.FILTER,\n    name: 'skipDynamic',\n    operation: function operation(v) {\n      if (amountLeft.value === 0) {\n        return true;\n      } else {\n        amountLeft.update(amountLeft.value - 1);\n        return false;\n      }\n    }\n  };\n}\nfunction dsSkip(amount) {\n  return {\n    operationType: exports.OperationType.FILTER,\n    name: \"skip \" + amount,\n    operation: function operation(v) {\n      if (amount === 0) {\n        return true;\n      } else {\n        amount--;\n        return false;\n      }\n    }\n  };\n}\nfunction dsCutOff(amount) {\n  return {\n    name: \"cutoff \" + amount,\n    operationType: exports.OperationType.FILTER,\n    operation: function operation(v) {\n      if (amount === 0) {\n        return false;\n      } else {\n        amount--;\n        return true;\n      }\n    }\n  };\n}\nfunction dsCutOffDynamic(amountLeft) {\n  return {\n    name: 'cutoffDynamic',\n    operationType: exports.OperationType.FILTER,\n    operation: function operation(v) {\n      if (amountLeft.value === 0) {\n        return false;\n      } else {\n        amountLeft.update(amountLeft.value - 1);\n        return true;\n      }\n    }\n  };\n}\nfunction dsUnique() {\n  var last;\n  return {\n    name: 'unique',\n    operationType: exports.OperationType.FILTER,\n    operation: function operation(v) {\n      if (v === last) {\n        return false;\n      } else {\n        last = v;\n        return true;\n      }\n    }\n  };\n}\nfunction dsAwait() {\n  return {\n    name: 'await',\n    operationType: exports.OperationType.MAP_DELAY,\n    operation: function operation(v) {\n      return v;\n    }\n  };\n}\nfunction dsAwaitOrdered() {\n  var processItem = function processItem() {\n    try {\n      return Promise.resolve(queue[0]).then(function () {\n        var item = queue.shift();\n        onDequeue.fire();\n        return item;\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var queue = [];\n  var onDequeue = new EventEmitter();\n  return {\n    operationType: exports.OperationType.MAP_DELAY,\n    name: 'awaitOrdered',\n    operation: function (v) {\n      try {\n        queue.push(v);\n\n        if (queue.length === 1) {\n          return processItem();\n        } else {\n          var unsub = onDequeue.subscribe(function () {\n            try {\n              if (queue[0] === v) {\n                unsub.cancel();\n                return processItem();\n              }\n\n              return Promise.resolve();\n            } catch (e) {\n              return Promise.reject(e);\n            }\n          });\n        }\n\n        return Promise.resolve();\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }\n  };\n}\nfunction dsAwaitLatest() {\n  var freshnessToken;\n  return {\n    operationType: exports.OperationType.MAP_DELAY_FILTER,\n    name: 'awaitLatest',\n    operation: function (v) {\n      try {\n        freshnessToken = Date.now();\n        var timestamp = freshnessToken;\n        return Promise.resolve(v).then(function (resolved) {\n          if (freshnessToken === timestamp) {\n            return {\n              item: resolved,\n              cancelled: false\n            };\n          } else {\n            return {\n              item: undefined,\n              cancelled: true\n            };\n          }\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }\n  };\n}\nfunction dsReduce(reducer, initialValue) {\n  var last = initialValue;\n  return {\n    name: 'reduce',\n    operationType: exports.OperationType.MAP,\n    operation: function operation(v) {\n      last = reducer(last, v);\n      return last;\n    }\n  };\n}\nfunction dsStringJoin(seperator) {\n  if (seperator === void 0) {\n    seperator = ', ';\n  }\n\n  var last;\n  return {\n    name: \"stringJoin \" + seperator,\n    operationType: exports.OperationType.MAP,\n    operation: function operation(v) {\n      if (last) {\n        last += seperator + v;\n      } else {\n        last = v;\n      }\n\n      return last;\n    }\n  };\n}\nfunction dsDelay(time) {\n  return {\n    name: \"delay \" + time + \"ms\",\n    operationType: exports.OperationType.DELAY,\n    operation: function operation(v) {\n      return new Promise(function (resolve) {\n        setTimeout(function () {\n          resolve(v);\n        }, time);\n      });\n    }\n  };\n}\nfunction dsDebounce(time) {\n  var timeout;\n  var cancelled = new EventEmitter();\n  return {\n    operationType: exports.OperationType.DELAY_FILTER,\n    name: \"debounce \" + time + \"ms\",\n    operation: function operation(v) {\n      return new Promise(function (resolve) {\n        clearTimeout(timeout);\n        cancelled.fire();\n        cancelled.subscribeOnce(function () {\n          resolve(true);\n        });\n        timeout = setTimeout(function () {\n          resolve(false);\n        }, time);\n      });\n    }\n  };\n}\nfunction dsSemaphore(state) {\n  return {\n    operationType: exports.OperationType.DELAY,\n    name: 'semaphore',\n    operation: function operation(v) {\n      return new Promise(function (resolve) {\n        if (state.value > 0) {\n          state.update(state.value - 1);\n          resolve(v);\n        } else {\n          var cancel = state.listen(function () {\n            if (state.value > 0) {\n              cancel();\n              state.update(state.value - 1);\n              resolve(v);\n            }\n          });\n        }\n      });\n    }\n  };\n}\nfunction dsLock(state) {\n  return {\n    name: 'lock',\n    operationType: exports.OperationType.DELAY,\n    operation: function operation(v) {\n      return new Promise(function (resolve) {\n        if (state.value) {\n          resolve(v);\n        } else {\n          var cancel = state.listen(function () {\n            if (state.value) {\n              cancel();\n              resolve(v);\n            }\n          });\n        }\n      });\n    }\n  };\n}\nfunction dsThrottle(time) {\n  var cooldown = false;\n  return {\n    name: \"throttle \" + time + \"ms\",\n    operationType: exports.OperationType.FILTER,\n    operation: function operation(v) {\n      if (!cooldown) {\n        cooldown = true;\n        setTimeout(function () {\n          cooldown = false;\n        }, time);\n        return true;\n      } else {\n        return false;\n      }\n    }\n  };\n}\nfunction dsBuffer(time) {\n  var buffer = [];\n  var promise;\n  return {\n    name: \"buffer \" + time + \"ms\",\n    operationType: exports.OperationType.MAP_DELAY_FILTER,\n    operation: function operation(v) {\n      buffer.push(v);\n\n      if (!promise) {\n        promise = new Promise(function (resolve) {\n          setTimeout(function () {\n            promise = undefined;\n            resolve({\n              cancelled: false,\n              item: buffer\n            });\n            buffer = [];\n          }, time);\n        });\n        return promise;\n      } else {\n        return Promise.resolve({\n          cancelled: true,\n          item: undefined\n        });\n      }\n    }\n  };\n}\nfunction dsPick(key) {\n  return {\n    name: \"pick \" + key,\n    operationType: exports.OperationType.MAP,\n    operation: function operation(v) {\n      if (v !== undefined && v !== null) {\n        return v[key];\n      } else {\n        return v;\n      }\n    }\n  };\n}\nfunction dsPipe(target) {\n  return {\n    name: \"pipe \" + target.name,\n    operationType: exports.OperationType.NOOP,\n    operation: function operation(v) {\n      if (target instanceof DataSource || target instanceof Stream) {\n        target.update(v);\n      } else {\n        target.updateDownstream(v);\n      }\n\n      return v;\n    }\n  };\n}\nfunction dsTap(cb) {\n  return {\n    name: 'tap',\n    operationType: exports.OperationType.NOOP,\n    operation: function operation(v) {\n      cb(v);\n      return v;\n    }\n  };\n}\nfunction dsLoadBalance(targets) {\n  var i = 0;\n  return {\n    name: \"loadBalance [\" + targets.map(function (v) {\n      return v.name;\n    }).join() + \"]\",\n    operationType: exports.OperationType.NOOP,\n    operation: function operation(v) {\n      var target = targets[i++];\n\n      if (i >= targets.length) {\n        i = 0;\n      }\n\n      if (target instanceof DataSource || target instanceof Stream) {\n        target.update(v);\n      } else {\n        target.updateDownstream(v);\n      }\n\n      return v;\n    }\n  };\n}\n\nfunction Switch(props, children, api) {\n  children = [].concat.apply([], children.filter(function (c) {\n    return !!c;\n  }));\n\n  if (children.some(function (c) {\n    return !c[aurumElementModelIdentitiy] || !(c.factory === SwitchCase || c.factory === DefaultSwitchCase);\n  })) {\n    throw new Error('Switch only accepts SwitchCase as children');\n  }\n\n  if (children.filter(function (c) {\n    return c.factory === DefaultSwitchCase;\n  }).length > 1) {\n    throw new Error('Too many default switch cases only 0 or 1 allowed');\n  }\n\n  var cleanUp = new CancellationToken();\n  api.onDetach(function () {\n    cleanUp.cancel();\n  });\n  var u = props.state.transform(dsUnique(), cleanUp);\n  return u.withInitial(props.state.value).map(function (state) {\n    return selectCase(state, children);\n  });\n}\n\nfunction selectCase(state, children) {\n  var _a, _b, _c;\n\n  return (_b = (_a = children.find(function (c) {\n    var _a;\n\n    return ((_a = c.props) === null || _a === void 0 ? void 0 : _a.when) === state;\n  })) === null || _a === void 0 ? void 0 : _a.children) !== null && _b !== void 0 ? _b : (_c = children.find(function (p) {\n    return p.factory === DefaultSwitchCase;\n  })) === null || _c === void 0 ? void 0 : _c.children;\n}\n\nfunction SwitchCase(props, children) {\n  return undefined;\n}\nfunction DefaultSwitchCase(props, children) {\n  return undefined;\n}\n\nvar ObjectDataSource = /*#__PURE__*/function () {\n  function ObjectDataSource(initialData) {\n    if (initialData) {\n      this.data = initialData;\n    }\n\n    this.updateEvent = new EventEmitter();\n    this.updateEventOnKey = new Map();\n  }\n\n  var _proto = ObjectDataSource.prototype;\n\n  _proto.pick = function pick(key, cancellationToken) {\n    var _a;\n\n    var subDataSource = new DataSource((_a = this.data) === null || _a === void 0 ? void 0 : _a[key]);\n    this.listenOnKey(key, function (v) {\n      subDataSource.update(v.newValue);\n    }, cancellationToken);\n    return subDataSource;\n  };\n\n  _proto.listen = function listen(callback, cancellationToken) {\n    return this.updateEvent.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.listenOnKeyAndRepeat = function listenOnKeyAndRepeat(key, callback, cancellationToken) {\n    callback({\n      key: key,\n      newValue: this.data[key],\n      oldValue: undefined\n    });\n    return this.listenOnKey(key, callback, cancellationToken);\n  };\n\n  _proto.listenOnKey = function listenOnKey(key, callback, cancellationToken) {\n    if (!this.updateEventOnKey.has(key)) {\n      this.updateEventOnKey.set(key, new EventEmitter());\n    }\n\n    var event = this.updateEventOnKey.get(key);\n    return event.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.keys = function keys() {\n    return Object.keys(this.data);\n  };\n\n  _proto.values = function values() {\n    return Object.values(this.data);\n  };\n\n  _proto.get = function get(key) {\n    return this.data[key];\n  };\n\n  _proto[\"delete\"] = function _delete(key) {\n    var old = this.data[key];\n    delete this.data[key];\n    this.updateEvent.fire({\n      oldValue: old,\n      key: key,\n      newValue: undefined,\n      deleted: true\n    });\n\n    if (this.updateEventOnKey.has(key)) {\n      this.updateEventOnKey.get(key).fire({\n        oldValue: old,\n        key: key,\n        newValue: undefined\n      });\n    }\n  };\n\n  _proto.set = function set(key, value) {\n    if (this.data[key] === value) {\n      return;\n    }\n\n    var old = this.data[key];\n    this.data[key] = value;\n    this.updateEvent.fire({\n      oldValue: old,\n      key: key,\n      newValue: this.data[key]\n    });\n\n    if (this.updateEventOnKey.has(key)) {\n      this.updateEventOnKey.get(key).fire({\n        oldValue: old,\n        key: key,\n        newValue: this.data[key]\n      });\n    }\n  };\n\n  _proto.assign = function assign(newData) {\n    if (newData instanceof ObjectDataSource) {\n      for (var _iterator = _createForOfIteratorHelperLoose(newData.keys()), _step; !(_step = _iterator()).done;) {\n        var key = _step.value;\n        this.set(key, newData.data[key]);\n      }\n    } else {\n      for (var _i = 0, _Object$keys = Object.keys(newData); _i < _Object$keys.length; _i++) {\n        var _key = _Object$keys[_i];\n        this.set(_key, newData[_key]);\n      }\n    }\n  };\n\n  _proto.toObject = function toObject() {\n    return Object.assign({}, this.data);\n  };\n\n  _proto.toDataSource = function toDataSource() {\n    var _this = this;\n\n    var stream = new DataSource(this.data);\n    this.listen(function (s) {\n      stream.update(_this.data);\n    });\n    return stream;\n  };\n\n  return ObjectDataSource;\n}();\n\nvar MapDataSource = /*#__PURE__*/function () {\n  function MapDataSource(initialData) {\n    if (initialData) {\n      this.data = initialData;\n    }\n\n    this.updateEvent = new EventEmitter();\n    this.updateEventOnKey = new Map();\n  }\n\n  var _proto = MapDataSource.prototype;\n\n  _proto.pick = function pick(key, cancellationToken) {\n    var subDataSource = new DataSource(this.data.get(key));\n    this.listenOnKey(key, function (v) {\n      subDataSource.update(v.newValue);\n    }, cancellationToken);\n    return subDataSource;\n  };\n\n  _proto.listen = function listen(callback, cancellationToken) {\n    return this.updateEvent.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.listenOnKeyAndRepeat = function listenOnKeyAndRepeat(key, callback, cancellationToken) {\n    callback({\n      key: key,\n      newValue: this.data.get(key),\n      oldValue: undefined\n    });\n    return this.listenOnKey(key, callback, cancellationToken);\n  };\n\n  _proto.listenOnKey = function listenOnKey(key, callback, cancellationToken) {\n    if (!this.updateEventOnKey.has(key)) {\n      this.updateEventOnKey.set(key, new EventEmitter());\n    }\n\n    var event = this.updateEventOnKey.get(key);\n    return event.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.keys = function keys() {\n    return this.data.keys();\n  };\n\n  _proto.values = function values() {\n    return this.data.values();\n  };\n\n  _proto.get = function get(key) {\n    return this.data.get(key);\n  };\n\n  _proto.has = function has(key) {\n    return this.data.has(key);\n  };\n\n  _proto[\"delete\"] = function _delete(key) {\n    var old = this.data.get(key);\n    this.data[\"delete\"](key);\n    this.updateEvent.fire({\n      oldValue: old,\n      key: key,\n      newValue: undefined,\n      deleted: true\n    });\n\n    if (this.updateEventOnKey.has(key)) {\n      this.updateEventOnKey.get(key).fire({\n        oldValue: old,\n        key: key,\n        newValue: undefined\n      });\n    }\n  };\n\n  _proto.set = function set(key, value) {\n    if (this.data.get(key) === value) {\n      return;\n    }\n\n    var old = this.data.get(key);\n    this.data.set(key, value);\n    this.updateEvent.fire({\n      oldValue: old,\n      key: key,\n      newValue: this.data.get(key)\n    });\n\n    if (this.updateEventOnKey.has(key)) {\n      this.updateEventOnKey.get(key).fire({\n        oldValue: old,\n        key: key,\n        newValue: this.data.get(key)\n      });\n    }\n  };\n\n  _proto.assign = function assign(newData) {\n    for (var _iterator = _createForOfIteratorHelperLoose(newData.keys()), _step; !(_step = _iterator()).done;) {\n      var key = _step.value;\n      this.set(key, newData.get(key));\n    }\n  };\n\n  _proto.toMap = function toMap() {\n    return new Map(this.data.entries());\n  };\n\n  return MapDataSource;\n}();\n\nvar SetDataSource = /*#__PURE__*/function () {\n  function SetDataSource(initialData) {\n    if (initialData) {\n      this.data = initialData;\n    }\n\n    this.updateEvent = new EventEmitter();\n    this.updateEventOnKey = new Map();\n  }\n\n  var _proto = SetDataSource.prototype;\n\n  _proto.pick = function pick(key, cancellationToken) {\n    var subDataSource = new DataSource(this.data.has(key));\n    this.listenOnKey(key, function (v) {\n      subDataSource.update(v);\n    }, cancellationToken);\n    return subDataSource;\n  };\n\n  _proto.listen = function listen(callback, cancellationToken) {\n    return this.updateEvent.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.listenOnKeyAndRepeat = function listenOnKeyAndRepeat(key, callback, cancellationToken) {\n    callback(this.has(key));\n    return this.listenOnKey(key, callback, cancellationToken);\n  };\n\n  _proto.listenOnKey = function listenOnKey(key, callback, cancellationToken) {\n    if (!this.updateEventOnKey.has(key)) {\n      this.updateEventOnKey.set(key, new EventEmitter());\n    }\n\n    var event = this.updateEventOnKey.get(key);\n    return event.subscribe(callback, cancellationToken).cancel;\n  };\n\n  _proto.keys = function keys() {\n    return this.data.keys();\n  };\n\n  _proto.has = function has(key) {\n    return this.data.has(key);\n  };\n\n  _proto[\"delete\"] = function _delete(key) {\n    this.data[\"delete\"](key);\n    this.updateEvent.fire({\n      key: key,\n      exists: false\n    });\n\n    if (this.updateEventOnKey.has(key)) {\n      this.updateEventOnKey.get(key).fire(false);\n    }\n  };\n\n  _proto.add = function add(key) {\n    if (this.data.has(key)) {\n      return;\n    }\n\n    this.data.add(key);\n    this.updateEvent.fire({\n      key: key,\n      exists: true\n    });\n\n    if (this.updateEventOnKey.has(key)) {\n      this.updateEventOnKey.get(key).fire(true);\n    }\n  };\n\n  _proto.assign = function assign(newData) {\n    for (var _iterator = _createForOfIteratorHelperLoose(newData.keys()), _step; !(_step = _iterator()).done;) {\n      var key = _step.value;\n      this.add(key);\n    }\n  };\n\n  _proto.toSet = function toSet() {\n    return new Set(this.data.keys());\n  };\n\n  return SetDataSource;\n}();\n\nvar debugMode = false;\n\nexports.ArrayAurumElement = ArrayAurumElement;\nexports.ArrayDataSource = ArrayDataSource;\nexports.Aurum = Aurum;\nexports.AurumElement = AurumElement;\nexports.AurumRouter = AurumRouter;\nexports.CancellationToken = CancellationToken;\nexports.DataSource = DataSource;\nexports.DefaultRoute = DefaultRoute;\nexports.DefaultSwitchCase = DefaultSwitchCase;\nexports.DuplexDataSource = DuplexDataSource;\nexports.EventEmitter = EventEmitter;\nexports.FilteredArrayView = FilteredArrayView;\nexports.MapDataSource = MapDataSource;\nexports.MappedArrayView = MappedArrayView;\nexports.ObjectDataSource = ObjectDataSource;\nexports.ReversedArrayView = ReversedArrayView;\nexports.Route = Route;\nexports.SetDataSource = SetDataSource;\nexports.SingularAurumElement = SingularAurumElement;\nexports.SortedArrayView = SortedArrayView;\nexports.Stream = Stream;\nexports.Suspense = Suspense;\nexports.Switch = Switch;\nexports.SwitchCase = SwitchCase;\nexports.TransientDataSource = TransientDataSource;\nexports.Webcomponent = Webcomponent;\nexports.aurumClassName = aurumClassName;\nexports.aurumElementModelIdentitiy = aurumElementModelIdentitiy;\nexports.createAPI = createAPI;\nexports.createRenderSession = createRenderSession;\nexports.debugMode = debugMode;\nexports.dsAwait = dsAwait;\nexports.dsAwaitLatest = dsAwaitLatest;\nexports.dsAwaitOrdered = dsAwaitOrdered;\nexports.dsBuffer = dsBuffer;\nexports.dsCutOff = dsCutOff;\nexports.dsCutOffDynamic = dsCutOffDynamic;\nexports.dsDebounce = dsDebounce;\nexports.dsDelay = dsDelay;\nexports.dsDiff = dsDiff;\nexports.dsEven = dsEven;\nexports.dsFilter = dsFilter;\nexports.dsFilterAsync = dsFilterAsync;\nexports.dsLoadBalance = dsLoadBalance;\nexports.dsLock = dsLock;\nexports.dsMap = dsMap;\nexports.dsMapAsync = dsMapAsync;\nexports.dsMax = dsMax;\nexports.dsMin = dsMin;\nexports.dsOdd = dsOdd;\nexports.dsPick = dsPick;\nexports.dsPipe = dsPipe;\nexports.dsReduce = dsReduce;\nexports.dsSemaphore = dsSemaphore;\nexports.dsSkip = dsSkip;\nexports.dsSkipDynamic = dsSkipDynamic;\nexports.dsStringJoin = dsStringJoin;\nexports.dsTap = dsTap;\nexports.dsThrottle = dsThrottle;\nexports.dsUnique = dsUnique;\nexports.nodeData = nodeData;\nexports.pendingSessions = pendingSessions;\nexports.processTransform = processTransform;\nexports.render = render;\n//# sourceMappingURL=aurumjs.js.map\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./main.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"html{width:100%;height:100%}html body{width:100%;height:100%;margin:0;font-family:Arial,Helvetica,sans-serif}html body .root{width:100%;height:100%;background-color:#000;background-image:linear-gradient(to bottom left, black, #4c4b4b);display:flex;flex-direction:column;align-items:center;justify-content:center}html body .root button{width:80px;height:30px;margin-top:30px;background-color:#276ece;border:1px solid #276ece;color:#fff}html body .root button:disabled{opacity:.7}html body .root .inputs .minutes-input,html body .root .inputs .seconds-input{box-sizing:border-box;width:30px;height:30px;text-align:center;padding:0;border-radius:50%}html body .root .inputs .seconds-input{margin-left:30px}html body .root .inputs .input-unit{color:#e8e3e3;margin-right:8px;margin-left:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","export enum CountdownStatus {\r\n    STOPPED = 'STOPPED',\r\n    PAUSED = 'PAUSED',\r\n    RUNNING = 'RUNNING',\r\n}\r\n","import { Aurum, CancellationToken, Renderable } from 'aurumjs';\r\nimport { CountdownStatus } from '../countdown_status';\r\nimport { ProgressCircleProps } from './progress_circle_props';\r\n\r\nexport function ProgressCircle(props: ProgressCircleProps): Renderable {\r\n\r\n    return <canvas width=\"250\" height=\"250\" onAttach={(canvasElement) => initCanvas(canvasElement)}></canvas>;\r\n\r\n    function initCanvas(canvasElem: HTMLCanvasElement) {\r\n        const cancellationToken: CancellationToken = new CancellationToken();\r\n        props.status.listen(status => status === CountdownStatus.STOPPED && cancellationToken.cancel());\r\n\r\n        const context = canvasElem.getContext('2d');\r\n        context.lineCap = 'round';\r\n\r\n        const x = canvasElem.width / 2;\r\n        const y = canvasElem.height / 2;\r\n        const radStart = computeRadAngle(0);\r\n        const radEnd = computeRadAngle(360);\r\n        const lineWidth = 10;\r\n        const radius = canvasElem.width / 2 - lineWidth;\r\n\r\n        let startTime: number;\r\n        let degreesPerSecond: number;\r\n\r\n        cancellationToken.animationLoop((time: number) => {\r\n            context.clearRect(0, 0, canvasElem.width, canvasElem.height);\r\n\r\n            drawCircle(radEnd, '#b1b1b1');\r\n\r\n            if (startTime === undefined) {\r\n                startTime = time;\r\n                degreesPerSecond = 360 / props.totalTime;\r\n            }\r\n\r\n            const elapsedTime = time - startTime;\r\n            const elapsedSeconds = elapsedTime / 1000;\r\n            const remainingSeconds = Math.max(props.totalTime - elapsedSeconds + 1, 0);\r\n\r\n            const progressDegrees = Math.min(elapsedSeconds * degreesPerSecond, 360);\r\n            drawCircle(computeRadAngle(progressDegrees), '#6eeeee');\r\n\r\n            const minutes = `${Math.floor(remainingSeconds / 60)}`.padStart(2, \"0\");\r\n            const seconds = `${Math.floor(remainingSeconds - Math.floor(remainingSeconds / 60) * 60)}`.padStart(2, \"0\");\r\n            drawProgressLabel(minutes, seconds);\r\n\r\n            if (progressDegrees === 360) {\r\n                cancellationToken.cancel();\r\n            }\r\n        });\r\n\r\n        function drawProgressLabel(minutes: string, seconds: string): void {\r\n            context.fillStyle = '#e8e3e3';\r\n            context.textAlign = 'center';\r\n            context.textBaseline = 'middle';\r\n            context.font = '60px Arial, Helvetica, sans-serif';\r\n            context.fillText(`${minutes}:${seconds}`, x, y);\r\n        }\r\n\r\n        function drawCircle(endAngle: number, color: string): void {\r\n            context.beginPath();\r\n            context.arc(x, y, radius, radStart, endAngle);\r\n            context.strokeStyle = color;\r\n            context.lineWidth = lineWidth;\r\n            context.stroke();\r\n        }\r\n    };\r\n\r\n    function computeRadAngle(degrees: number): number {\r\n        return (Math.PI / 180) * (270 + degrees);\r\n    }\r\n}","import { Aurum, CancellationToken, DataSource, Renderable } from 'aurumjs';\r\nimport '../scss/main.scss';\r\nimport { CountdownStatus } from './countdown_status';\r\nimport { ProgressCircle } from './progress_circle/progress_circle';\r\n\r\nconst originalMinutes = new DataSource(\"00\");\r\nconst originalSeconds = new DataSource(\"00\");\r\nconst countDownStatus = new DataSource(CountdownStatus.STOPPED);\r\n\r\nlet cancellationToken: CancellationToken;\r\n\r\nfunction renderInputs(): DataSource<Renderable> {\r\n    return countDownStatus.map(status =>\r\n        status === CountdownStatus.STOPPED ? (\r\n            <div class=\"inputs\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={originalMinutes}\r\n                    onInput={e => handleMinutesChange((e.target as HTMLInputElement).value)}\r\n                    class=\"minutes-input\"\r\n                />\r\n                <span class=\"input-unit\">min</span>\r\n                <input\r\n                    type=\"text\"\r\n                    value={originalSeconds}\r\n                    onInput={e => handleSecondsChange((e.target as HTMLInputElement).value)}\r\n                    class=\"seconds-input\"\r\n                />\r\n                <span class=\"input-unit\">s</span>\r\n            </div>\r\n        ) : null\r\n    );\r\n}\r\n\r\nfunction renderStartButton(): DataSource<Renderable> {\r\n    return countDownStatus.map(status =>\r\n        status !== CountdownStatus.RUNNING\r\n            ? <button onClick={() => startCountdown()}\r\n                disabled={DataSource.fromMultipleSources([originalMinutes, originalSeconds])\r\n                    .map(() => computeOriginalSeconds() === 0)\r\n                    .withInitial(computeOriginalSeconds() === 0)}>\r\n                START\r\n            </button>\r\n            : null\r\n    );\r\n}\r\n\r\nfunction renderStopButton(): DataSource<Renderable> {\r\n    return countDownStatus.map(status =>\r\n        status !== CountdownStatus.STOPPED ? <button onClick={() => stopCountdown()}>STOP</button> : null\r\n    );\r\n}\r\n\r\nfunction renderCountdown(): DataSource<Renderable> {\r\n    return countDownStatus.map(status => status !== CountdownStatus.STOPPED ? (\r\n        <div>\r\n            {renderProgressCircle()}\r\n        </div>\r\n    ) : null);\r\n}\r\n\r\nfunction renderProgressCircle(): DataSource<Renderable> {\r\n    return <ProgressCircle totalTime={computeOriginalSeconds()} status={countDownStatus} />;\r\n}\r\n\r\nfunction startCountdown() {\r\n    countDownStatus.update(CountdownStatus.RUNNING);\r\n\r\n    cancellationToken = new CancellationToken();\r\n\r\n    let startTime: number;\r\n    const totalTime = computeOriginalSeconds();\r\n    cancellationToken.animationLoop(tickTime);\r\n\r\n    function tickTime(time: number): void {\r\n        if (startTime === undefined) {\r\n            startTime = time;\r\n        }\r\n\r\n        const elapsedTime = time - startTime;\r\n        const elapsedSeconds = elapsedTime / 1000;\r\n        const remainingSeconds = Math.max(totalTime - elapsedSeconds + 1, 0);\r\n\r\n        if (remainingSeconds === 0) {\r\n            countDownStatus.update(CountdownStatus.STOPPED);\r\n            cancellationToken.cancel();\r\n        }\r\n    }\r\n}\r\n\r\nfunction stopCountdown() {\r\n    countDownStatus.update(CountdownStatus.STOPPED);\r\n    cancellationToken.cancel();\r\n}\r\n\r\nfunction computeOriginalSeconds() {\r\n    return Number(originalMinutes.value) * 60 + Number(originalSeconds.value);\r\n}\r\n\r\nfunction handleMinutesChange(value: string): void {\r\n    let minutes: string = normalizeMinutesOrSeconds(value);\r\n    originalMinutes.update(minutes);\r\n}\r\n\r\nfunction handleSecondsChange(value: string): void {\r\n    let seconds: string = normalizeMinutesOrSeconds(value);\r\n    originalSeconds.update(seconds);\r\n}\r\n\r\nfunction normalizeMinutesOrSeconds(value: string): string {\r\n    let normalizedValue: string = value;\r\n    const oneTwoDigitsFound = new RegExp(/^\\d{1,2}$/).test(normalizedValue);\r\n    if (!oneTwoDigitsFound) {\r\n        normalizedValue = '00';\r\n    } else if (new RegExp(/^\\d{2}$/).test(normalizedValue)) {\r\n        if (!new RegExp(/^([0-5][0-9])$/).test(normalizedValue)) {\r\n            normalizedValue = '59';\r\n        }\r\n    }\r\n    return normalizedValue;\r\n}\r\n\r\nAurum.attach(\r\n    <div class=\"root\">\r\n        {renderInputs()}\r\n        {renderStartButton()}\r\n        {renderCountdown()}\r\n        {renderStopButton()}\r\n    </div>,\r\n    document.body\r\n);\r\n"],"sourceRoot":""}